<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Sofya User Manual: File Viewers</title>
<style type='text/css'>
.smalltext {
  font-size:8pt;
}
UL.dblspaced>LI {
  padding-bottom:1em;
}
header {
  position:fixed;
  top:0;
  left:0;
  width:100%;
}
</style>
</head>
<body>
<header>
  <nav>
    <ul>
        <li><a href="https://sofyatool.github.io/SofyaTool/index.html">Main</a></li>
        <li><a href="https://sofyatool.github.io/SofyaTool/doc/manual/installation.html">Installation</a></li>
        <li><a href="https://sofyatool.github.io/SofyaTool/doc/manual/user/index.html">User's Manual</a></li>
        <li><a href="https://sofyatool.github.io/SofyaTool/doc/api/index.html">API Reference</a></li>
        <li><a href="https://sofyatool.github.io/SofyaTool/files/examples/index.html">Examples</a></li>
    </ul>
  </nav>
</header>
<div style="margin-left:150px;">
<h2 style="text-align:center">Running the &#931&#959&#966&#943&#945 Viewers</h2>

<p>The viewers are used to display and save interpretable forms of the various
output files generated by &#931&#959&#966&#943&#945 tools. They are provided
to facilitate understanding and reporting of the various analyses supported by
&#931&#959&#966&#943&#945.</p>

<a name="cfview"></a>
<h3>CFViewer</h3>
<p>This viewer is used to view the control flow graphs produced for the methods in
a class. You must first run the control flow graph builder on the class for which
you want to view control flow information. Then run the command:</p>

<p><code>java sofya.viewers.CFViewer [-tag <i>tag</i>] &lt;classname&gt;.java
 [output_file]</code></p>

<p>Note that you <em>should</em> include the <em>.java</em> extension. The
CFViewer will automatically locate the control flow file in the &#931&#959&#966&#943&#945
database and display the formatted contents. If you specify a value for
<code>output_file</code>, the data will be written to the specified file.</p>

<a name="mapview"></a>
<h3>MapViewer</h3>
<p>This viewer is used to view the mapping information produced for the methods in
a class. This includes a list of the basic blocks in each method, their types, subtypes,
bytecode start offsets and bytecode end offsets. You must first run the control flow graph
builder on the class for which you want to view map information. Then run the command:</p>

<p><code>java sofya.viewers.MapViewer [-tag <i>tag</i>] &lt;classname&gt;.java
 [output_file]</code></p>

<p>Note that you <em>should</em> include the <em>.java</em> extension. The
MapViewer will automatically locate the map file in the &#931&#959&#966&#943&#945 database
and display the formatted contents. If you specify a value for
<code>output_file</code>, the data will be written to the specified file.</p>

<a name="trview"></a>
<h3>TraceViewer</h3>
<p>This viewer is used to view the trace information collected from the execution of
an instrumented program by a coverage tracer. If will display the trace events that were
recorded during execution of the program. The type of the trace (currently either basic
block or branch) is automatically detected and displayed appropriately. The viewer is
run with the following command:</p>

<p><code>java sofya.viewers.TraceViewer &lt;tracefile&gt;</code> 
<code>[output_file]</code></p>

<p>The <em>.tr</em> extension and any qualifying path information should be included.
This viewer does not automatically find the trace file in the database directory. It will
display the formatted contents of the trace file, unless you specify a value for
<code>output_file</code>, in which case the data will be written to the specified
file instead.</p>

<a name="thview"></a>
<h3>TestHistoryViewer</h3>
<p>This viewer is used to view a test history file generated by the test history
builder. There are two possible ways to view a test history file. The first lists each block
and the set of tests that exercised it during execution. The second lists each block, the
number of tests that exercised it during execution, and the percentage of the total number
of tests that exercised it. To use it, run the command:</p>

<p><code>java sofya.viewers.TestHistoryViewer &lt;histfile&gt; [LIST | COUNT] [output_file]</code><br> 

<p>The LIST option produces the first view of the history file, whereas the COUNT option
produces the second view. If specified, the output will be stored to
<code>output_file</code>.</p>

<a name="tsview"></a>
<h3>TestSelectionViewer</h3>
<p>This viewer is used to display the stored results of test selection performed
by <code>DejaVu</code>. There are three possible ways to view a test selection file.
The first displays each method in the program contributing at least one test
selection with a tabular list of all the test selections resulting the changes to
that method. The second gives a &quot;statistical&quot; view that lists each
method with the total number of tests and the corresponding percentage of the
test suite selected as a result of the changes to that method. The final view
simply lists all of the selected tests, and is intended primarily as an input
to other tools. To use this viewer, run the command:</p>

<p><code>java sofya.viewers.TestSelectionViewer &lt;selectionfile&gt;
[-t &lt;t|s|l&gt;] [output_file]</code></p>

<p>The parameter <code>-t</code> selects the output format, where <i>t</i>
is the tabular format, <i>s</i> is the statistical format, and
<i>l</i> is the list format. If you specify a value for
<code>output_file</code>, the data will be written to the specified file.</p>

<a name="bsview"></a>
<h3>ByteSourceViewer</h3>
<p>This viewer is used to view the byte code instructions of a Java class.
To use it, run the command:</p>

<p><code>java sofya.viewers.ByteSourceViewer &lt;classname&gt; [output_file]
</code></p>

<p>If the <em>.class</em> extension is included, the viewer will treat the given name as an
absolute path, otherwise it will attempt to load the class from the classpath.
It will display the byte code instructions for each method in the class in a readable
format. If you specify a value for <code>output_file</code>, the data will be written to the
specified file.</p>

<a name="sourceview"></a>
<h3>SourceViewer</h3>
<p>This viewer is used to display the contents of a Java source code file, annotated
with line numbers. To use it, run the command:</p>

<p><code>java sofya.viewers.SourceViewer &lt;sourcefile&gt;</code> 
<code>[output_file]</code></p>

<p>The <em>.java</em> extension and any qualifying path information should be included.
This viewer does not automatically find the file in the database directory. It will
display the contents of the source file, annotated with line numbers. If you specify a
value for <code>output_file</code>, the data will be written to the specified file.</p>
<a name="mutantview"></a>
<h3>Mutation Table Viewer</h3>
<p>
This viewer is used to display the contents of a Sofya mutation table (.mut or .mut.apl)
file.  Mutation table files are created by the <code>sofya.mutator.MutationGenerator</code>
class.  The usage of the MutationTableViewer class is as follows:
</p>
<p><code>
java sofya.viewers.MutationTableViewer &lt;mutation_table_file&gt; [-t l/d] [OutputFile]
</code></p>
<p>
The <code>mutation_table_file</code> is binary file containing information on one or more
Sofya mutation operations that apply to a Java class.
The <a href="../../api/sofya/mutator/MutationGenerator.html">
<code>sofya.mutator.MutationGenerator</code></a>
class generates a mutation table (a file with the '.mut' file extension to the
class file name, e.g. java.lang.String.mut) in
the working directory where <code>MutationGenerator</code> is executed.
This viewer allows examination of these mutation table files which report what
mutations exist in the class upon which Sofya can perform bytecode mutation.
When a mutation is applied using the
<code>sofya.mutator.Mutator</code> class, a secondary mutation table file (with the
.mut.apl file extension) is created in the working directory.
This file contains only information on the mutation applied.  The name of
this file indicates which class has had the mutation applied.
As with other viewers, the <code>OutputFile</code> option is provided for
saving the viewer output to the specified file.
</p>
<p>
The -t flag specifies the type of output desired.  Specifying <code>-t l</code>
informs the MutationTableViewer to print the specified mutation_table_file in
machine readable format, e.g.
</p>
<p><code>
$ java sofya.viewers.MutationTableViewer example.ModelParserImpl.mut.apl -t l
</code>
<pre>
31:-:ROP:example.ModelParserImpl:write:(Lexample/VariabilityModel;Ljava/lang/String;Ljava/lang/String;)V:17:0:ifnull[==]:ifnonnull[!=]:1,!=
</pre></p>
<p>
The output displayed is a script/machine readable format of the fault
inserted.  For a more human-readable form use the <code>-t d</code> option, e.g.
</p>
<p><code>
$ java sofya.viewers.MutationTableViewer example.ModelParserImpl.mut.apl -t d
</code>
<pre>
ROP {
        id: 31
        class: example.ModelParserImpl
        method: write
        signature: (Lexample/VariabilityModel;Ljava/lang/String;Ljava/lang/String;)V
        original code offset: 17
        relative position offset: 0
        opcode mutation: ifnull[==] -> ifnonnull[!=]
        variants: { 1: != }
}
</pre></p>
<p>
The output displayed gives a more human-readable format to what mutation
was (will be) inserted.  More information about mutation and mutation viewing is
provided in the <a href="mutator.html">Toolkit for Generating Java Mutation
Faults</a> page.
</p>
</div>
<p>&nbsp;</p>
<hr>
<p class="smalltext">Author: Alex Kinneer &#169; 2006 University of Nebraska - Lincoln.</p>
<p class="smalltext">Page last updated by Wayne Motycka: 08/27/2018</p>
</body>
</html>
