<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_06) on Tue Aug 08 14:15:10 CDT 2006 -->
<TITLE>
Instrumentor (Sofya API Documentation)
</TITLE>

<META NAME="keywords" CONTENT="sofya.ed.Instrumentor class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="Instrumentor (Sofya API Documentation)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../sofya/ed/CoverageListenerManager.html" title="interface in sofya.ed"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../sofya/ed/ParameterValueAbsentException.html" title="class in sofya.ed"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?sofya/ed/Instrumentor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Instrumentor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
sofya.ed</FONT>
<BR>
Class Instrumentor</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>sofya.ed.Instrumentor</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>org.apache.bcel.generic.InstructionConstants, <A HREF="../../sofya/base/SConstants.html" title="interface in sofya.base">SConstants</A></DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../sofya/ed/structural/BlockInstrumentor.html" title="class in sofya.ed.structural">BlockInstrumentor</A>, <A HREF="../../sofya/ed/structural/BranchInstrumentor.html" title="class in sofya.ed.structural">BranchInstrumentor</A>, <A HREF="../../sofya/ed/semantic/SemanticInstrumentor.html" title="class in sofya.ed.semantic">SemanticInstrumentor</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>Instrumentor</B><DT>extends java.lang.Object<DT>implements org.apache.bcel.generic.InstructionConstants, <A HREF="../../sofya/base/SConstants.html" title="interface in sofya.base">SConstants</A></DL>
</PRE>

<P>
Abstract base class for all instrumentors, which instrument Java class
 files for execution by an event dispatcher.

 <p><i>Special note regarding instrumentation of Sofya as a subject</i>: If
 you change the mode of instrumentation (compatible, normal optimized,
 etc...) of the instrumentation applied to Sofya as a subject, make
 sure to delete the 'bootstrap.jar' file in the <code>inst</code>
 directory of the subject Sofya to force the event dispatcher to rebuild it
 using the newly instrumented SocketProbe. Otherwise the event dispatcher may
 refuse to run if the old mode of instrumentation that was applied to
 SocketProbe in the jar file is not compatible with a form that
 it accepts.</p>
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>07/25/2006</DD>
<DT><B>Author:</B></DT>
  <DD>Alex Kinneer</DD>
<DT><B>See Also:</B><DD><A HREF="../../sofya/ed/cfInstrumentor.html" title="class in sofya.ed"><CODE>cfInstrumentor</CODE></A>, 
<A HREF="../../sofya/ed/semantic/SemanticInstrumentor.html" title="class in sofya.ed.semantic"><CODE>SemanticInstrumentor</CODE></A></DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="nested_classes_inherited_from_class_org.apache.bcel.generic.InstructionConstants"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Nested classes/interfaces inherited from interface org.apache.bcel.generic.InstructionConstants</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>org.apache.bcel.generic.InstructionConstants.Clinit</CODE></TD>
</TR>
</TABLE>
&nbsp;
<A NAME="nested_classes_inherited_from_class_sofya.base.SConstants"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Nested classes/interfaces inherited from interface sofya.base.<A HREF="../../sofya/base/SConstants.html" title="interface in sofya.base">SConstants</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../sofya/base/SConstants.BlockLabel.html" title="class in sofya.base">SConstants.BlockLabel</A>, <A HREF="../../sofya/base/SConstants.BlockObjectType.html" title="class in sofya.base">SConstants.BlockObjectType</A>, <A HREF="../../sofya/base/SConstants.BlockSubType.html" title="class in sofya.base">SConstants.BlockSubType</A>, <A HREF="../../sofya/base/SConstants.BlockType.html" title="class in sofya.base">SConstants.BlockType</A>, <A HREF="../../sofya/base/SConstants.BranchObjectType.html" title="class in sofya.base">SConstants.BranchObjectType</A>, <A HREF="../../sofya/base/SConstants.BranchType.html" title="class in sofya.base">SConstants.BranchType</A>, <A HREF="../../sofya/base/SConstants.EDObjectType.html" title="class in sofya.base">SConstants.EDObjectType</A>, <A HREF="../../sofya/base/SConstants.TraceObjectType.html" title="class in sofya.base">SConstants.TraceObjectType</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#arrayVarref">arrayVarref</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Index to a local variable in the instrumented method used to hold the
        hit-object array (used by optimized normal and JUnit
        instrumentation).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#blockCount">blockCount</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Number of blocks in the method currently referenced by
        instrumentation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../sofya/graphs/cfg/CFHandler.html" title="class in sofya.graphs.cfg">CFHandler</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#classGraphs">classGraphs</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handler for class method CFGs.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#classHasMain">classHasMain</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flag indicating whether the class has a <code>main</code> method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#classHasStaticInit">classHasStaticInit</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flag indicating whether the class has a static initializer
        (<code>&lt;clinit&gt;</code> method).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#classIsDispatcher">classIsDispatcher</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flag indicating whether the class is an event dispatcher.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#classIsSocketProbe">classIsSocketProbe</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flag indicating whether the class is SocketProbe.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#className">className</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name of the class currently loaded by the instrumentor, as provided
        in the constructor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;org.apache.bcel.generic.ConstantPoolGen</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#cpg">cpg</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BCEL data structure representing the class constant pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#excExitBooleanVar">excExitBooleanVar</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flag used to control whether the summary exit node will be marked on an
        exceptional exit.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#fullClassName">fullClassName</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fully qualified name of the class currently loaded by the
        instrumentor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Set</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#handlerStarts">handlerStarts</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cache of instruction handles that begin exception handlers, used
        by sequence instrumentation to guarantee that exceptional returns
        from calls will properly record the change in method to the trace.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;org.apache.bcel.generic.InstructionFactory</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#iFactory">iFactory</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Factory object used to generate more complex instructions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#instClassRef">instClassRef</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name of the class upon which instrumentation methods are to be
        invoked.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#instMode">instMode</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer code indicating type of instrumentation to be inserted.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;org.apache.bcel.classfile.JavaClass</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#javaClass">javaClass</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BCEL data structure representing the class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;org.apache.bcel.generic.ClassGen</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#javaClassFile">javaClassFile</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BCEL data structure allowing more advanced modifications to class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#lastInstrumented">lastInstrumented</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name of method last instrumented.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../sofya/graphs/cfg/CFG.html" title="class in sofya.graphs.cfg">CFG</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#methodCFG">methodCFG</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CFG for the method currently being instrumented.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#methodEntryMethodref">methodEntryMethodref</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Index to a method reference that should be called on entry to a new
        method, if any.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;org.apache.bcel.classfile.Method[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#methods">methods</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Collection of uninstrumented methods in the class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#mSignature">mSignature</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Signature of the method currently referenced by instrumentation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#port">port</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Socket port to be used for instrumentation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#starterInserted">starterInserted</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flag indicating whether the call to <code>SocketProbe.start</code> has
        been inserted.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#startMethodref">startMethodref</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Index to <code>SocketProbe.start</code> method reference added to
        constant pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#tag">tag</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tag associated with the class database files.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#targetJUnit">targetJUnit</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flag indicating that the instrumentation is targeted for a
        JUnit event dispatcher.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#traceMethodref">traceMethodref</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Index to probe statement method reference added to constant pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#typeFlags">typeFlags</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bit vector representing types of blocks that will be instrumented.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#useDefaultPort">useDefaultPort</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flag indicating whether the port will be selected automatically.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.apache.bcel.generic.InstructionConstants"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface org.apache.bcel.generic.InstructionConstants</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>AALOAD, AASTORE, ACONST_NULL, ALOAD_0, ALOAD_1, ALOAD_2, ARETURN, ARRAYLENGTH, ASTORE_0, ASTORE_1, ASTORE_2, ATHROW, BALOAD, BASTORE, bla, CALOAD, CASTORE, D2F, D2I, D2L, DADD, DALOAD, DASTORE, DCMPG, DCMPL, DCONST_0, DCONST_1, DDIV, DMUL, DNEG, DREM, DRETURN, DSUB, DUP, DUP_X1, DUP_X2, DUP2, DUP2_X1, DUP2_X2, F2D, F2I, F2L, FADD, FALOAD, FASTORE, FCMPG, FCMPL, FCONST_0, FCONST_1, FCONST_2, FDIV, FMUL, FNEG, FREM, FRETURN, FSUB, I2B, I2C, I2D, I2F, I2L, I2S, IADD, IALOAD, IAND, IASTORE, ICONST_0, ICONST_1, ICONST_2, ICONST_3, ICONST_4, ICONST_5, ICONST_M1, IDIV, ILOAD_0, ILOAD_1, ILOAD_2, IMUL, INEG, INSTRUCTIONS, IOR, IREM, IRETURN, ISHL, ISHR, ISTORE_0, ISTORE_1, ISTORE_2, ISUB, IUSHR, IXOR, L2D, L2F, L2I, LADD, LALOAD, LAND, LASTORE, LCMP, LCONST_0, LCONST_1, LDIV, LMUL, LNEG, LOR, LREM, LRETURN, LSHL, LSHR, LSUB, LUSHR, LXOR, MONITORENTER, MONITOREXIT, NOP, POP, POP2, RETURN, SALOAD, SASTORE, SWAP, THIS</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_sofya.base.SConstants"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface sofya.base.<A HREF="../../sofya/base/SConstants.html" title="interface in sofya.base">SConstants</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../sofya/base/SConstants.html#DEFAULT_PORT">DEFAULT_PORT</A>, <A HREF="../../sofya/base/SConstants.html#INST_COMPATIBLE">INST_COMPATIBLE</A>, <A HREF="../../sofya/base/SConstants.html#INST_OLD_UNSUPPORTED">INST_OLD_UNSUPPORTED</A>, <A HREF="../../sofya/base/SConstants.html#INST_OPT_NORMAL">INST_OPT_NORMAL</A>, <A HREF="../../sofya/base/SConstants.html#INST_OPT_SEQUENCE">INST_OPT_SEQUENCE</A>, <A HREF="../../sofya/base/SConstants.html#SIG_CHKALIVE">SIG_CHKALIVE</A>, <A HREF="../../sofya/base/SConstants.html#SIG_ECHO">SIG_ECHO</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#Instrumentor()">Instrumentor</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Protected default constructor, to prevent unsafe instances of
 the instrumentor from being created.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#Instrumentor(java.lang.String[])">Instrumentor</A></B>(java.lang.String[]&nbsp;argv)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates am instrumentor configured by a list of command line
 parameters.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#Instrumentor(java.lang.String, int)">Instrumentor</A></B>(java.lang.String&nbsp;className,
             int&nbsp;typeFlags)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates an instrumentor for the specified class with the given object
 types activated for instrumentation and using the default port.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#Instrumentor(java.lang.String, int, int)">Instrumentor</A></B>(java.lang.String&nbsp;className,
             int&nbsp;typeFlags,
             int&nbsp;port)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates an instrumentor for the specified class with the given object
 types activated for instrumentation and using the given port.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#Instrumentor(java.lang.String, int, int, int)">Instrumentor</A></B>(java.lang.String&nbsp;className,
             int&nbsp;typeFlags,
             int&nbsp;port,
             int&nbsp;instMode)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates an instrumentor for the specified class with the given object
 types activated for instrumentation, using the given port, and
 activating the specified mode of instrumentation.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#addDefaultHandler(org.apache.bcel.generic.MethodGen, org.apache.bcel.generic.InstructionList)">addDefaultHandler</A></B>(org.apache.bcel.generic.MethodGen&nbsp;mg,
                  org.apache.bcel.generic.InstructionList&nbsp;il)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Modifies the <code>main</code> method, if necessary, to prevent
 unhandled exceptions from being thrown.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#cacheHandlerStarts(org.apache.bcel.generic.CodeExceptionGen[])">cacheHandlerStarts</A></B>(org.apache.bcel.generic.CodeExceptionGen[]&nbsp;excHandlers)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reads the exception handlers associated with the method and caches
 the starting instruction handle for each handler.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.apache.bcel.classfile.JavaClass</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#generateClass()">generateClass</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the instrumented class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#getClassName()">getClassName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the name of the class which is currently loaded in the
 instrumentor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#getInstMode()">getInstMode</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the form of instrumentation that the instrumentor is currently
 set to insert, which will be one of the following:
 
 <A HREF="../../sofya/base/SConstants.html#INST_COMPATIBLE"><CODE>SConstants.INST_COMPATIBLE</CODE></A>
 <A HREF="../../sofya/base/SConstants.html#INST_OPT_NORMAL"><CODE>SConstants.INST_OPT_NORMAL</CODE></A>
 <A HREF="../../sofya/base/SConstants.html#INST_OPT_SEQUENCE"><CODE>SConstants.INST_OPT_SEQUENCE</CODE></A>
 </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#getLastInstrumented()">getLastInstrumented</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the name of the last method instrumented.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#getMethodCount()">getMethodCount</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the number of methods in the class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#getMethodName(int)">getMethodName</A></B>(int&nbsp;methodIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the name of a method in the class method array.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#getMethodSignature(int)">getMethodSignature</A></B>(int&nbsp;methodIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the signature of a method in the class method array, as a string.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;<A HREF="../../sofya/base/SConstants.TraceObjectType.html" title="class in sofya.base">SConstants.TraceObjectType</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#getObjectType()">getObjectType</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the structural entity that is instrumented by this instrumentor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#getPort()">getPort</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the socket port being used for instrumentation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#getProbeClassName()">getProbeClassName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the name of the class referenced by probes inserted by this
 instrumentor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#getQualifiedName()">getQualifiedName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the fully qualified name of the class (includes package name)
 which is currently loaded in the instrumentor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#getTypeFlags()">getTypeFlags</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the bit mask controlling the object types that are currently set
 to be instrumented by this instrumentor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#hasMain()">hasMain</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reports whether the class has a main method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#hasStaticInit()">hasStaticInit</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reports whether the class has a static initializer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#init(int)">init</A></B>(int&nbsp;port)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initializes the instrumentor, making it ready to instrument methods in
 the class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#insertFinisher(java.lang.String, org.apache.bcel.generic.Type, org.apache.bcel.generic.Type[])">insertFinisher</A></B>(java.lang.String&nbsp;methodName,
               org.apache.bcel.generic.Type&nbsp;returnType,
               org.apache.bcel.generic.Type[]&nbsp;argumentTypes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inserts call to <code>SocketProbe.finish</code> unconditionally at
 the exit points of the specified method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#insertProbeFinishCall(org.apache.bcel.generic.InstructionList)">insertProbeFinishCall</A></B>(org.apache.bcel.generic.InstructionList&nbsp;il)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inserts call to <A HREF="../../sofya/ed/structural/SocketProbe.html#finish()"><CODE>SocketProbe.finish()</CODE></A>
 immediately prior to any <code>return</code> instruction in the method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#insertProbeStartCall(org.apache.bcel.generic.InstructionList)">insertProbeStartCall</A></B>(org.apache.bcel.generic.InstructionList&nbsp;il)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inserts call to
 <A HREF="../../sofya/ed/structural/SocketProbe.html#start(int, int, boolean, boolean, int)"><CODE>SocketProbe.start(int,int,boolean,boolean,int)</CODE></A>
 at beginning of method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#insertStarter(java.lang.String, org.apache.bcel.generic.Type, org.apache.bcel.generic.Type[])">insertStarter</A></B>(java.lang.String&nbsp;methodName,
              org.apache.bcel.generic.Type&nbsp;returnType,
              org.apache.bcel.generic.Type[]&nbsp;argumentTypes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inserts call to <code>SocketProbe.start</code> unconditionally at
 the beginning of the specified method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;org.apache.bcel.classfile.Method</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#instrument(org.apache.bcel.classfile.Method, int, boolean)">instrument</A></B>(org.apache.bcel.classfile.Method&nbsp;m,
           int&nbsp;methodIndex,
           boolean&nbsp;insertStarter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instruments a method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#instrument(java.lang.String, org.apache.bcel.generic.Type, org.apache.bcel.generic.Type[], boolean)">instrument</A></B>(java.lang.String&nbsp;methodName,
           org.apache.bcel.generic.Type&nbsp;returnType,
           org.apache.bcel.generic.Type[]&nbsp;argumentTypes,
           boolean&nbsp;insertStarter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instruments the method with the given name and signature using the
 current instrumentation settings.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#instrumentAll()">instrumentAll</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instruments every method in the class using the current instrumentation
 settings.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#loadBlockRefs(sofya.graphs.cfg.Block[], org.apache.bcel.generic.InstructionList)">loadBlockRefs</A></B>(<A HREF="../../sofya/graphs/cfg/Block.html" title="class in sofya.graphs.cfg">Block</A>[]&nbsp;blocks,
              org.apache.bcel.generic.InstructionList&nbsp;il)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Loads the instruction handles corresponding to the bytecode offsets
 encoded in the given blocks into the reference fields for those
 blocks, using the supplied BCEL instruction list to find the
 handles.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#loadClass(java.lang.String)">loadClass</A></B>(java.lang.String&nbsp;className)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Loads a new class into the instrumentor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#loadClass(java.lang.String, java.io.InputStream)">loadClass</A></B>(java.lang.String&nbsp;className,
          java.io.InputStream&nbsp;source)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Loads a new class into the instrumentor, from a given stream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#parseClass(java.lang.String, java.io.InputStream)">parseClass</A></B>(java.lang.String&nbsp;className,
           java.io.InputStream&nbsp;source)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parses the class, making it ready for instrumentation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#parseCommandLine(java.lang.String[])">parseCommandLine</A></B>(java.lang.String[]&nbsp;argv)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parses command line parameters that control aspects of the internal
 state of the instrumentor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#parseTypeCodes(java.lang.String)">parseTypeCodes</A></B>(java.lang.String&nbsp;typeCodes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parses the command-line parameter that specifies the types of objects
 to be instrumented (eg &apos;-BEXC&apos;, etc.).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#reloadClass()">reloadClass</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reloads the current class from file, destroying any instrumentation
 that has been performed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#reloadMethod(java.lang.String, org.apache.bcel.generic.Type, org.apache.bcel.generic.Type[])">reloadMethod</A></B>(java.lang.String&nbsp;methodName,
             org.apache.bcel.generic.Type&nbsp;returnType,
             org.apache.bcel.generic.Type[]&nbsp;argumentTypes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reloads a method, destroying any instrumentation previously applied to
 it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#setInstMode(int)">setInstMode</A></B>(int&nbsp;instMode)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the form of instrumentation that the instrumentor is to
 insert.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#setPort(int, boolean)">setPort</A></B>(int&nbsp;port,
        boolean&nbsp;auto)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the socket port to be used in instrumentation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#setTypeFlags(int)">setTypeFlags</A></B>(int&nbsp;typeFlags)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the bit mask controlling what object types are to be
 instrumented by this instrumentor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#writeClass(java.io.OutputStream)">writeClass</A></B>(java.io.OutputStream&nbsp;dest)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Writes the binary instrumented class data to a stream.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="javaClass"><!-- --></A><H3>
javaClass</H3>
<PRE>
protected org.apache.bcel.classfile.JavaClass <B>javaClass</B></PRE>
<DL>
<DD>BCEL data structure representing the class.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="javaClassFile"><!-- --></A><H3>
javaClassFile</H3>
<PRE>
protected org.apache.bcel.generic.ClassGen <B>javaClassFile</B></PRE>
<DL>
<DD>BCEL data structure allowing more advanced modifications to class.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="cpg"><!-- --></A><H3>
cpg</H3>
<PRE>
protected org.apache.bcel.generic.ConstantPoolGen <B>cpg</B></PRE>
<DL>
<DD>BCEL data structure representing the class constant pool.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="methods"><!-- --></A><H3>
methods</H3>
<PRE>
protected org.apache.bcel.classfile.Method[] <B>methods</B></PRE>
<DL>
<DD>Collection of uninstrumented methods in the class.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="iFactory"><!-- --></A><H3>
iFactory</H3>
<PRE>
protected org.apache.bcel.generic.InstructionFactory <B>iFactory</B></PRE>
<DL>
<DD>Factory object used to generate more complex instructions.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="className"><!-- --></A><H3>
className</H3>
<PRE>
protected java.lang.String <B>className</B></PRE>
<DL>
<DD>Name of the class currently loaded by the instrumentor, as provided
        in the constructor.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="fullClassName"><!-- --></A><H3>
fullClassName</H3>
<PRE>
protected java.lang.String <B>fullClassName</B></PRE>
<DL>
<DD>Fully qualified name of the class currently loaded by the
        instrumentor.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="lastInstrumented"><!-- --></A><H3>
lastInstrumented</H3>
<PRE>
protected java.lang.String <B>lastInstrumented</B></PRE>
<DL>
<DD>Name of method last instrumented.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="port"><!-- --></A><H3>
port</H3>
<PRE>
protected int <B>port</B></PRE>
<DL>
<DD>Socket port to be used for instrumentation.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="useDefaultPort"><!-- --></A><H3>
useDefaultPort</H3>
<PRE>
protected boolean <B>useDefaultPort</B></PRE>
<DL>
<DD>Flag indicating whether the port will be selected automatically.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="typeFlags"><!-- --></A><H3>
typeFlags</H3>
<PRE>
protected int <B>typeFlags</B></PRE>
<DL>
<DD>Bit vector representing types of blocks that will be instrumented.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="instMode"><!-- --></A><H3>
instMode</H3>
<PRE>
protected int <B>instMode</B></PRE>
<DL>
<DD>Integer code indicating type of instrumentation to be inserted.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="targetJUnit"><!-- --></A><H3>
targetJUnit</H3>
<PRE>
protected boolean <B>targetJUnit</B></PRE>
<DL>
<DD>Flag indicating that the instrumentation is targeted for a
        JUnit event dispatcher.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="classGraphs"><!-- --></A><H3>
classGraphs</H3>
<PRE>
protected <A HREF="../../sofya/graphs/cfg/CFHandler.html" title="class in sofya.graphs.cfg">CFHandler</A> <B>classGraphs</B></PRE>
<DL>
<DD>Handler for class method CFGs.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="tag"><!-- --></A><H3>
tag</H3>
<PRE>
protected java.lang.String <B>tag</B></PRE>
<DL>
<DD>Tag associated with the class database files.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="methodCFG"><!-- --></A><H3>
methodCFG</H3>
<PRE>
protected <A HREF="../../sofya/graphs/cfg/CFG.html" title="class in sofya.graphs.cfg">CFG</A> <B>methodCFG</B></PRE>
<DL>
<DD>CFG for the method currently being instrumented.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="instClassRef"><!-- --></A><H3>
instClassRef</H3>
<PRE>
protected java.lang.String <B>instClassRef</B></PRE>
<DL>
<DD>Name of the class upon which instrumentation methods are to be
        invoked.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="classIsDispatcher"><!-- --></A><H3>
classIsDispatcher</H3>
<PRE>
protected boolean <B>classIsDispatcher</B></PRE>
<DL>
<DD>Flag indicating whether the class is an event dispatcher.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="classIsSocketProbe"><!-- --></A><H3>
classIsSocketProbe</H3>
<PRE>
protected boolean <B>classIsSocketProbe</B></PRE>
<DL>
<DD>Flag indicating whether the class is SocketProbe.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="classHasMain"><!-- --></A><H3>
classHasMain</H3>
<PRE>
protected boolean <B>classHasMain</B></PRE>
<DL>
<DD>Flag indicating whether the class has a <code>main</code> method.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="classHasStaticInit"><!-- --></A><H3>
classHasStaticInit</H3>
<PRE>
protected boolean <B>classHasStaticInit</B></PRE>
<DL>
<DD>Flag indicating whether the class has a static initializer
        (<code>&lt;clinit&gt;</code> method).
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="starterInserted"><!-- --></A><H3>
starterInserted</H3>
<PRE>
protected boolean <B>starterInserted</B></PRE>
<DL>
<DD>Flag indicating whether the call to <code>SocketProbe.start</code> has
        been inserted.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="startMethodref"><!-- --></A><H3>
startMethodref</H3>
<PRE>
protected int <B>startMethodref</B></PRE>
<DL>
<DD>Index to <code>SocketProbe.start</code> method reference added to
        constant pool.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="traceMethodref"><!-- --></A><H3>
traceMethodref</H3>
<PRE>
protected int <B>traceMethodref</B></PRE>
<DL>
<DD>Index to probe statement method reference added to constant pool.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="methodEntryMethodref"><!-- --></A><H3>
methodEntryMethodref</H3>
<PRE>
protected int <B>methodEntryMethodref</B></PRE>
<DL>
<DD>Index to a method reference that should be called on entry to a new
        method, if any.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mSignature"><!-- --></A><H3>
mSignature</H3>
<PRE>
protected java.lang.String <B>mSignature</B></PRE>
<DL>
<DD>Signature of the method currently referenced by instrumentation.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="blockCount"><!-- --></A><H3>
blockCount</H3>
<PRE>
protected int <B>blockCount</B></PRE>
<DL>
<DD>Number of blocks in the method currently referenced by
        instrumentation.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="arrayVarref"><!-- --></A><H3>
arrayVarref</H3>
<PRE>
protected int <B>arrayVarref</B></PRE>
<DL>
<DD>Index to a local variable in the instrumented method used to hold the
        hit-object array (used by optimized normal and JUnit
        instrumentation).
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="excExitBooleanVar"><!-- --></A><H3>
excExitBooleanVar</H3>
<PRE>
protected int <B>excExitBooleanVar</B></PRE>
<DL>
<DD>Flag used to control whether the summary exit node will be marked on an
        exceptional exit. If the exceptional exit is associated with a
        precisely known control flow path, this flag is set, which signals the
        summary exit node handler not to mark the summary node.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="handlerStarts"><!-- --></A><H3>
handlerStarts</H3>
<PRE>
protected java.util.Set <B>handlerStarts</B></PRE>
<DL>
<DD>Cache of instruction handles that begin exception handlers, used
        by sequence instrumentation to guarantee that exceptional returns
        from calls will properly record the change in method to the trace.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="Instrumentor()"><!-- --></A><H3>
Instrumentor</H3>
<PRE>
protected <B>Instrumentor</B>()</PRE>
<DL>
<DD>Protected default constructor, to prevent unsafe instances of
 the instrumentor from being created.
<P>
</DL>
<HR>

<A NAME="Instrumentor(java.lang.String[])"><!-- --></A><H3>
Instrumentor</H3>
<PRE>
public <B>Instrumentor</B>(java.lang.String[]&nbsp;argv)
             throws java.lang.IllegalArgumentException,
                    java.io.IOException,
                    java.lang.ClassFormatError,
                    java.lang.Exception</PRE>
<DL>
<DD>Creates am instrumentor configured by a list of command line
 parameters.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>argv</CODE> - Set of command line parameters, such as would be obtained
 from <A HREF="../../sofya/ed/cfInstrumentor.html" title="class in sofya.ed"><CODE>cfInstrumentor</CODE></A>.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - If required parameters are missing,
 invalid parameters are encountered, or data required for optional
 parameters is missing.
<DD><CODE><A HREF="../../sofya/base/exceptions/BadFileFormatException.html" title="class in sofya.base.exceptions">BadFileFormatException</A></CODE> - If the class is an interface.
<DD><CODE>java.io.IOException</CODE> - If there is an error reading the class file.
<DD><CODE>java.lang.ClassFormatError</CODE> - If the class file cannot be parsed.
<DD><CODE>java.lang.Exception</CODE> - If any other error is raised attempting to parse the
 class.</DL>
</DL>
<HR>

<A NAME="Instrumentor(java.lang.String, int)"><!-- --></A><H3>
Instrumentor</H3>
<PRE>
public <B>Instrumentor</B>(java.lang.String&nbsp;className,
                    int&nbsp;typeFlags)
             throws <A HREF="../../sofya/base/exceptions/BadFileFormatException.html" title="class in sofya.base.exceptions">BadFileFormatException</A>,
                    java.lang.IllegalArgumentException,
                    java.io.IOException,
                    java.lang.ClassFormatError,
                    java.lang.Exception</PRE>
<DL>
<DD>Creates an instrumentor for the specified class with the given object
 types activated for instrumentation and using the default port.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>className</CODE> - Name of the class to be instrumented.<DD><CODE>typeFlags</CODE> - Bit mask representing the types of objects to be
 instrumented.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - If required parameters are missing,
 invalid parameters are encountered, or data required for optional
 parameters is missing.
<DD><CODE><A HREF="../../sofya/base/exceptions/BadFileFormatException.html" title="class in sofya.base.exceptions">BadFileFormatException</A></CODE> - If the class is an interface.
<DD><CODE>java.io.IOException</CODE> - If there is an error reading the class file.
<DD><CODE>java.lang.ClassFormatError</CODE> - If the class file cannot be parsed.
<DD><CODE>java.lang.Exception</CODE> - If any other error is raised attempting to parse the
 class.</DL>
</DL>
<HR>

<A NAME="Instrumentor(java.lang.String, int, int)"><!-- --></A><H3>
Instrumentor</H3>
<PRE>
public <B>Instrumentor</B>(java.lang.String&nbsp;className,
                    int&nbsp;typeFlags,
                    int&nbsp;port)
             throws <A HREF="../../sofya/base/exceptions/BadFileFormatException.html" title="class in sofya.base.exceptions">BadFileFormatException</A>,
                    java.lang.IllegalArgumentException,
                    java.io.IOException,
                    java.lang.ClassFormatError,
                    java.lang.Exception</PRE>
<DL>
<DD>Creates an instrumentor for the specified class with the given object
 types activated for instrumentation and using the given port.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>className</CODE> - Name of the class to be instrumented.<DD><CODE>typeFlags</CODE> - Bit mask representing the types of objects to be
 instrumented.<DD><CODE>port</CODE> - Port to which instrumentation should be set. The valid
 range is 1024 to 65535.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - If required parameters are missing,
 invalid parameters are encountered, or data required for optional
 parameters is missing.
<DD><CODE><A HREF="../../sofya/base/exceptions/BadFileFormatException.html" title="class in sofya.base.exceptions">BadFileFormatException</A></CODE> - If the class is an interface.
<DD><CODE>java.io.IOException</CODE> - If there is an error reading the class file.
<DD><CODE>java.lang.ClassFormatError</CODE> - If the class file cannot be parsed.
<DD><CODE>java.lang.Exception</CODE> - If any other error is raised attempting to parse the
 class.</DL>
</DL>
<HR>

<A NAME="Instrumentor(java.lang.String, int, int, int)"><!-- --></A><H3>
Instrumentor</H3>
<PRE>
public <B>Instrumentor</B>(java.lang.String&nbsp;className,
                    int&nbsp;typeFlags,
                    int&nbsp;port,
                    int&nbsp;instMode)
             throws <A HREF="../../sofya/base/exceptions/BadFileFormatException.html" title="class in sofya.base.exceptions">BadFileFormatException</A>,
                    java.lang.IllegalArgumentException,
                    java.io.IOException,
                    java.lang.ClassFormatError,
                    java.lang.Exception</PRE>
<DL>
<DD>Creates an instrumentor for the specified class with the given object
 types activated for instrumentation, using the given port, and
 activating the specified mode of instrumentation.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>className</CODE> - Name of the class to be instrumented.<DD><CODE>typeFlags</CODE> - Bit mask representing the types of objects to be
 instrumented.<DD><CODE>port</CODE> - Port to which instrumentation should be set. The valid
 range is 1024 to 65535.<DD><CODE>instMode</CODE> - Integer flag indicating the form of instrumentation to
 be inserted. Acceptable values are the following:
 <ul>
 <li><A HREF="../../sofya/base/SConstants.html#INST_COMPATIBLE"><CODE>SConstants.INST_COMPATIBLE</CODE></A></li>
 <li><A HREF="../../sofya/base/SConstants.html#INST_OPT_NORMAL"><CODE>SConstants.INST_OPT_NORMAL</CODE></A></li>
 <li><A HREF="../../sofya/base/SConstants.html#INST_OPT_SEQUENCE"><CODE>SConstants.INST_OPT_SEQUENCE</CODE></A></li>
 </ul>
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - If required parameters are missing,
 invalid parameters are encountered, or data required for optional
 parameters is missing.
<DD><CODE><A HREF="../../sofya/base/exceptions/BadFileFormatException.html" title="class in sofya.base.exceptions">BadFileFormatException</A></CODE> - If the class is an interface.
<DD><CODE>java.io.IOException</CODE> - If there is an error reading the class file.
<DD><CODE>java.lang.ClassFormatError</CODE> - If the class file cannot be parsed.
<DD><CODE>java.lang.Exception</CODE> - If any other error is raised attempting to parse the
 class.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="parseCommandLine(java.lang.String[])"><!-- --></A><H3>
parseCommandLine</H3>
<PRE>
protected void <B>parseCommandLine</B>(java.lang.String[]&nbsp;argv)
                         throws java.lang.IllegalArgumentException</PRE>
<DL>
<DD>Parses command line parameters that control aspects of the internal
 state of the instrumentor.

 <p><b>Note:</b> Some parameters may need to be processed prior to
 invocation of this method, such as is done by
 <A HREF="../../sofya/ed/cfInstrumentor.html" title="class in sofya.ed"><CODE>cfInstrumentor</CODE></A>, to implement behaviors that should
 not be reflected in the internal state of the instrumentor itself.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>argv</CODE> - Command line parameters to be parsed.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - If required parameters are missing,
 invalid parameters are encountered, or data required for optional
 parameters is missing.</DL>
</DD>
</DL>
<HR>

<A NAME="parseTypeCodes(java.lang.String)"><!-- --></A><H3>
parseTypeCodes</H3>
<PRE>
protected abstract boolean <B>parseTypeCodes</B>(java.lang.String&nbsp;typeCodes)
                                   throws java.lang.IllegalArgumentException</PRE>
<DL>
<DD>Parses the command-line parameter that specifies the types of objects
 to be instrumented (eg &apos;-BEXC&apos;, etc.).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>typeCodes</CODE> - Parameter read from command-line, including the
 leading dash.
<DT><B>Returns:</B><DD><code>true</code> object types were read from the parameter,
 <code>false</code> if no types were given.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - If an unrecognized object type
 character is encountered.</DL>
</DD>
</DL>
<HR>

<A NAME="parseClass(java.lang.String, java.io.InputStream)"><!-- --></A><H3>
parseClass</H3>
<PRE>
protected void <B>parseClass</B>(java.lang.String&nbsp;className,
                          java.io.InputStream&nbsp;source)
                   throws <A HREF="../../sofya/base/exceptions/BadFileFormatException.html" title="class in sofya.base.exceptions">BadFileFormatException</A>,
                          java.io.IOException,
                          java.lang.ClassFormatError</PRE>
<DL>
<DD>Parses the class, making it ready for instrumentation.

 <p>Uses BCEL to parse the class file and initialize the internal data
 structures used for inserting instrumentation.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>className</CODE> - Name of the class to be parsed.<DD><CODE>source</CODE> - Stream from which the class should be parsed. May be
 <code>null</code>, in which case this method will attempt to load
 the class from the classpath or the filesystem (in that order).
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../sofya/base/exceptions/BadFileFormatException.html" title="class in sofya.base.exceptions">BadFileFormatException</A></CODE> - If the class is an interface.
<DD><CODE>java.io.IOException</CODE> - If there is an error reading the class file.
<DD><CODE>java.lang.ClassFormatError</CODE> - If the class file cannot be parsed.
<DD><CODE>java.lang.Exception</CODE> - If any other error is raised attempting to parse the
 class.</DL>
</DD>
</DL>
<HR>

<A NAME="init(int)"><!-- --></A><H3>
init</H3>
<PRE>
protected void <B>init</B>(int&nbsp;port)
             throws java.io.IOException</PRE>
<DL>
<DD>Initializes the instrumentor, making it ready to instrument methods in
 the class.

 <p>Analyzes the class and sets various flags used to control
 instrumentation. Determines if the subject is a filter class
 or <A HREF="../../sofya/ed/structural/SocketProbe.html" title="class in sofya.ed.structural"><CODE>SocketProbe</CODE></A>. Determines the default port
 or checks that the port number is in range if one is specified. Adds
 the instrumentation method references to the class constant pool.
 Determines if the class has a static initializer and/or
 <code>main</code> method to control where to insert the call
 to <code>SocketProbe.start</code>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>port</CODE> - Port which is to be used for instrumentation. If a negative
 number is supplied, the default port is selected. Otherwise, the valid
 range for this parameter is 1024 to 65535.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="loadClass(java.lang.String)"><!-- --></A><H3>
loadClass</H3>
<PRE>
public void <B>loadClass</B>(java.lang.String&nbsp;className)
               throws <A HREF="../../sofya/base/exceptions/BadFileFormatException.html" title="class in sofya.base.exceptions">BadFileFormatException</A>,
                      java.io.FileNotFoundException,
                      java.io.IOException,
                      java.lang.ClassFormatError,
                      java.lang.Exception</PRE>
<DL>
<DD>Loads a new class into the instrumentor.

 <p><b>Note:</b> If <A HREF="../../sofya/ed/Instrumentor.html#writeClass(java.io.OutputStream)"><CODE>writeClass(java.io.OutputStream)</CODE></A> is not called before
 this method, any instrumentation performed on the last loaded class
 will be lost.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>className</CODE> - Name of the class to be loaded.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../sofya/base/exceptions/BadFileFormatException.html" title="class in sofya.base.exceptions">BadFileFormatException</A></CODE> - If the class is an interface.
<DD><CODE>java.io.IOException</CODE> - If there is an error reading the class file.
<DD><CODE>java.lang.ClassFormatError</CODE> - If the class file cannot be parsed.
<DD><CODE>java.lang.Exception</CODE> - If any other error is raised attempting to load the
 class.
<DD><CODE>java.io.FileNotFoundException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="loadClass(java.lang.String, java.io.InputStream)"><!-- --></A><H3>
loadClass</H3>
<PRE>
public void <B>loadClass</B>(java.lang.String&nbsp;className,
                      java.io.InputStream&nbsp;source)
               throws <A HREF="../../sofya/base/exceptions/BadFileFormatException.html" title="class in sofya.base.exceptions">BadFileFormatException</A>,
                      java.io.IOException,
                      java.lang.ClassFormatError,
                      java.lang.Exception</PRE>
<DL>
<DD>Loads a new class into the instrumentor, from a given stream.

 <p><b>Note:</b> If <A HREF="../../sofya/ed/Instrumentor.html#writeClass(java.io.OutputStream)"><CODE>writeClass(java.io.OutputStream)</CODE></A> is not called before
 this method, any instrumentation performed on the last loaded class
 will be lost.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>className</CODE> - Name of the class to be loaded.<DD><CODE>source</CODE> - Stream from which the class should be read.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../sofya/base/exceptions/BadFileFormatException.html" title="class in sofya.base.exceptions">BadFileFormatException</A></CODE> - If the specified class is an interface.
<DD><CODE>java.io.IOException</CODE> - If there is an error reading the class file.
<DD><CODE>java.lang.ClassFormatError</CODE> - If BCEL cannot parse the class.
<DD><CODE>java.lang.Exception</CODE> - If any other error is raised attempting to
 load the class.</DL>
</DD>
</DL>
<HR>

<A NAME="reloadClass()"><!-- --></A><H3>
reloadClass</H3>
<PRE>
public void <B>reloadClass</B>()
                 throws java.io.IOException,
                        java.lang.ClassFormatError,
                        java.lang.Exception</PRE>
<DL>
<DD>Reloads the current class from file, destroying any instrumentation
 that has been performed.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - If there is an error reading the class file.
<DD><CODE>java.lang.ClassFormatError</CODE> - If the class file cannot be parsed.
<DD><CODE>java.lang.Exception</CODE> - If any other error is raised attempting to parse the
 class.</DL>
</DD>
</DL>
<HR>

<A NAME="reloadMethod(java.lang.String, org.apache.bcel.generic.Type, org.apache.bcel.generic.Type[])"><!-- --></A><H3>
reloadMethod</H3>
<PRE>
public void <B>reloadMethod</B>(java.lang.String&nbsp;methodName,
                         org.apache.bcel.generic.Type&nbsp;returnType,
                         org.apache.bcel.generic.Type[]&nbsp;argumentTypes)
                  throws <A HREF="../../sofya/base/exceptions/MethodNotFoundException.html" title="class in sofya.base.exceptions">MethodNotFoundException</A></PRE>
<DL>
<DD>Reloads a method, destroying any instrumentation previously applied to
 it.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>methodName</CODE> - Name of the method to be reloaded.<DD><CODE>returnType</CODE> - Return type of the method.<DD><CODE>argumentTypes</CODE> - The types of the arguments to the method. Together
 with the return type, these constitute the signature which will be used
 to identify a match.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../sofya/base/exceptions/MethodNotFoundException.html" title="class in sofya.base.exceptions">MethodNotFoundException</A></CODE> - If no method matching the specified name
 and signature can be found.</DL>
</DD>
</DL>
<HR>

<A NAME="getPort()"><!-- --></A><H3>
getPort</H3>
<PRE>
public int <B>getPort</B>()</PRE>
<DL>
<DD>Gets the socket port being used for instrumentation.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The port which is currently being used for instrumentation.</DL>
</DD>
</DL>
<HR>

<A NAME="setPort(int, boolean)"><!-- --></A><H3>
setPort</H3>
<PRE>
public void <B>setPort</B>(int&nbsp;port,
                    boolean&nbsp;auto)</PRE>
<DL>
<DD>Sets the socket port to be used in instrumentation.

 <p><b>Warning:</b> This method should be used with caution. Only the
 first occurrence of an invocation of <code>SocketProbe.start</code>
 during execution will cause the port to be set. The method where the
 call to <code>SocketProbe.start</code> has been inserted must be
 re-instrumented for the change to take effect. The
 <A HREF="../../sofya/ed/Instrumentor.html#hasMain()"><CODE>hasMain()</CODE></A> and <A HREF="../../sofya/ed/Instrumentor.html#hasStaticInit()"><CODE>hasStaticInit()</CODE></A>
 methods can be used to determine which method in the class represents
 the first executable code that can be run by the class, if that is the
 preferred location for the call to <code>SocketProbe.start</code>. A
 call to <A HREF="../../sofya/ed/Instrumentor.html#instrumentAll()"><CODE>instrumentAll()</CODE></A> will also cause the change
 to take effect.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>port</CODE> - Port which is to be used for instrumentation. The valid
 range is 1024 to 65535.<DD><CODE>auto</CODE> - If <code>true</code>, set to the default port.</DL>
</DD>
</DL>
<HR>

<A NAME="getClassName()"><!-- --></A><H3>
getClassName</H3>
<PRE>
public java.lang.String <B>getClassName</B>()</PRE>
<DL>
<DD>Gets the name of the class which is currently loaded in the
 instrumentor.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The name of the class which is being handled by this
 instrumentor.</DL>
</DD>
</DL>
<HR>

<A NAME="getQualifiedName()"><!-- --></A><H3>
getQualifiedName</H3>
<PRE>
public java.lang.String <B>getQualifiedName</B>()</PRE>
<DL>
<DD>Gets the fully qualified name of the class (includes package name)
 which is currently loaded in the instrumentor.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The fully qualified name of the class which is being handled
 by this instrumentor.</DL>
</DD>
</DL>
<HR>

<A NAME="getInstMode()"><!-- --></A><H3>
getInstMode</H3>
<PRE>
public int <B>getInstMode</B>()</PRE>
<DL>
<DD>Gets the form of instrumentation that the instrumentor is currently
 set to insert, which will be one of the following:
 <ul>
 <li><A HREF="../../sofya/base/SConstants.html#INST_COMPATIBLE"><CODE>SConstants.INST_COMPATIBLE</CODE></A></li>
 <li><A HREF="../../sofya/base/SConstants.html#INST_OPT_NORMAL"><CODE>SConstants.INST_OPT_NORMAL</CODE></A></li>
 <li><A HREF="../../sofya/base/SConstants.html#INST_OPT_SEQUENCE"><CODE>SConstants.INST_OPT_SEQUENCE</CODE></A></li>
 </ul>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The form of instrumentation which the instrumentor is set to
 insert, indicated by one of the above constants.</DL>
</DD>
</DL>
<HR>

<A NAME="setInstMode(int)"><!-- --></A><H3>
setInstMode</H3>
<PRE>
public void <B>setInstMode</B>(int&nbsp;instMode)
                 throws java.lang.IllegalStateException,
                        java.lang.IllegalArgumentException</PRE>
<DL>
<DD>Sets the form of instrumentation that the instrumentor is to
 insert.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>instMode</CODE> - Integer flag indicating the form of instrumentation to
 be inserted. Acceptable values are the following:
 <ul>
 <li><A HREF="../../sofya/base/SConstants.html#INST_COMPATIBLE"><CODE>SConstants.INST_COMPATIBLE</CODE></A></li>
 <li><A HREF="../../sofya/base/SConstants.html#INST_OPT_NORMAL"><CODE>SConstants.INST_OPT_NORMAL</CODE></A></li>
 <li><A HREF="../../sofya/base/SConstants.html#INST_OPT_SEQUENCE"><CODE>SConstants.INST_OPT_SEQUENCE</CODE></A></li>
 </ul>
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - If methods in the class have already
 been instrumented using a different form of instrumentation. Call
 <A HREF="../../sofya/ed/Instrumentor.html#reloadClass()"><CODE>reloadClass()</CODE></A> to begin instrumenting the current
 class with a different form of instrumentation.
<DD><CODE>java.lang.IllegalArgumentException</CODE> - If the instrumentation mode is
 invalid.</DL>
</DD>
</DL>
<HR>

<A NAME="getTypeFlags()"><!-- --></A><H3>
getTypeFlags</H3>
<PRE>
public int <B>getTypeFlags</B>()</PRE>
<DL>
<DD>Gets the bit mask controlling the object types that are currently set
 to be instrumented by this instrumentor.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>Bit mask controlling what types of objects are instrumented.</DL>
</DD>
</DL>
<HR>

<A NAME="setTypeFlags(int)"><!-- --></A><H3>
setTypeFlags</H3>
<PRE>
public abstract void <B>setTypeFlags</B>(int&nbsp;typeFlags)</PRE>
<DL>
<DD>Sets the bit mask controlling what object types are to be
 instrumented by this instrumentor.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>typeFlags</CODE> - Bit mask representing the types of objects to be
 instrumented.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - If the bit mask doesn't have a set
 bit which corresponds to a valid object type.</DL>
</DD>
</DL>
<HR>

<A NAME="getObjectType()"><!-- --></A><H3>
getObjectType</H3>
<PRE>
protected abstract <A HREF="../../sofya/base/SConstants.TraceObjectType.html" title="class in sofya.base">SConstants.TraceObjectType</A> <B>getObjectType</B>()</PRE>
<DL>
<DD>Gets the structural entity that is instrumented by this instrumentor.
 This allows the abstract superclass to implement some general
 functions, simply using dynamic binding to the actual current object
 to determine proper actions and values when necessary.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The structural entity (e.g. block, edge) that this instrumentor
 knows how to instrument.</DL>
</DD>
</DL>
<HR>

<A NAME="getProbeClassName()"><!-- --></A><H3>
getProbeClassName</H3>
<PRE>
protected abstract java.lang.String <B>getProbeClassName</B>()</PRE>
<DL>
<DD>Gets the name of the class referenced by probes inserted by this
 instrumentor.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The name of the probe class used by this instrumentor.</DL>
</DD>
</DL>
<HR>

<A NAME="getMethodCount()"><!-- --></A><H3>
getMethodCount</H3>
<PRE>
public int <B>getMethodCount</B>()</PRE>
<DL>
<DD>Gets the number of methods in the class.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The number of methods found in the class.</DL>
</DD>
</DL>
<HR>

<A NAME="getMethodName(int)"><!-- --></A><H3>
getMethodName</H3>
<PRE>
public java.lang.String <B>getMethodName</B>(int&nbsp;methodIndex)</PRE>
<DL>
<DD>Gets the name of a method in the class method array.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>methodIndex</CODE> - Index of the method whose name is to be retrieved.
<DT><B>Returns:</B><DD>The name of the method at the given location in the method
 array.</DL>
</DD>
</DL>
<HR>

<A NAME="getMethodSignature(int)"><!-- --></A><H3>
getMethodSignature</H3>
<PRE>
public java.lang.String <B>getMethodSignature</B>(int&nbsp;methodIndex)</PRE>
<DL>
<DD>Gets the signature of a method in the class method array, as a string.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>methodIndex</CODE> - Index of the method whose name is to be retrieved.
<DT><B>Returns:</B><DD>The signature of the method at the given location in the method
 array.</DL>
</DD>
</DL>
<HR>

<A NAME="getLastInstrumented()"><!-- --></A><H3>
getLastInstrumented</H3>
<PRE>
public java.lang.String <B>getLastInstrumented</B>()</PRE>
<DL>
<DD>Gets the name of the last method instrumented.

 <p>This may be useful to determine when a method is actually
 instrumented. Methods declared as <code>native</code>,
 <code>abstract</code>, or which have no method body will not cause
 the value returned by this method to be updated.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The name of the last method successfully instrumented, or
 <code>null</code> if no method has been instrumented yet.</DL>
</DD>
</DL>
<HR>

<A NAME="hasMain()"><!-- --></A><H3>
hasMain</H3>
<PRE>
public boolean <B>hasMain</B>()</PRE>
<DL>
<DD>Reports whether the class has a main method.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if the class has a <code>main</code> method,
 <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="hasStaticInit()"><!-- --></A><H3>
hasStaticInit</H3>
<PRE>
public boolean <B>hasStaticInit</B>()</PRE>
<DL>
<DD>Reports whether the class has a static initializer.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if the class has a
 <code>&lt;clinit&gt;</code> method, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="instrumentAll()"><!-- --></A><H3>
instrumentAll</H3>
<PRE>
public void <B>instrumentAll</B>()</PRE>
<DL>
<DD>Instruments every method in the class using the current instrumentation
 settings. This will overwrite any instrumentation previously applied to
 the methods.

 <p>This method will automatically determine the correct method into
 which to insert the call to <code>SocketProbe.start</code>.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="instrument(java.lang.String, org.apache.bcel.generic.Type, org.apache.bcel.generic.Type[], boolean)"><!-- --></A><H3>
instrument</H3>
<PRE>
public void <B>instrument</B>(java.lang.String&nbsp;methodName,
                       org.apache.bcel.generic.Type&nbsp;returnType,
                       org.apache.bcel.generic.Type[]&nbsp;argumentTypes,
                       boolean&nbsp;insertStarter)
                throws <A HREF="../../sofya/base/exceptions/MethodNotFoundException.html" title="class in sofya.base.exceptions">MethodNotFoundException</A></PRE>
<DL>
<DD>Instruments the method with the given name and signature using the
 current instrumentation settings. This will overwrite any
 instrumentation previously applied to the method.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>methodName</CODE> - Name of the method to be reloaded.<DD><CODE>returnType</CODE> - Return type of the method.<DD><CODE>argumentTypes</CODE> - The types of the arguments to the method. Together
 with the return type, these constitute the signature which will be used
 to identify a match.<DD><CODE>insertStarter</CODE> - Flag specifying whether call to
 <code>SocketProbe.start</code> should be unconditionally inserted at
 the beginning of this method. The <code>SocketProbe.start</code> method
 is guarded against multiple invocations, such that only the first
 occurrence during execution has any effect. Nonetheless, setting this
 flag should be done with discretion and is generally discouraged. Note
 also that the <A HREF="../../sofya/ed/Instrumentor.html#instrumentAll()"><CODE>instrumentAll()</CODE></A> method will cause the
 call to be automatically inserted in the appropriate location.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../sofya/base/exceptions/MethodNotFoundException.html" title="class in sofya.base.exceptions">MethodNotFoundException</A></CODE> - If no method matching the specified
 name and signature can be found.</DL>
</DD>
</DL>
<HR>

<A NAME="instrument(org.apache.bcel.classfile.Method, int, boolean)"><!-- --></A><H3>
instrument</H3>
<PRE>
protected abstract org.apache.bcel.classfile.Method <B>instrument</B>(org.apache.bcel.classfile.Method&nbsp;m,
                                                               int&nbsp;methodIndex,
                                                               boolean&nbsp;insertStarter)</PRE>
<DL>
<DD>Instruments a method.

 <p>Performs the actual instrumentation and update of the method in the
 class.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>m</CODE> - Method to be instrumented.<DD><CODE>methodIndex</CODE> - Index to the method in the class method array.<DD><CODE>insertStarter</CODE> - If <code>true</code>, force the instrumentor to
 insert a call to <code>SocketProbe.start</code> at the beginning of
 this method, otherwise it will be determined automatically whether it
 should be inserted.
<DT><B>Returns:</B><DD>The instrumented method. If the method is <code>native</code>,
 <code>abstract</code>, or has no body, it is returned unchanged.</DL>
</DD>
</DL>
<HR>

<A NAME="insertStarter(java.lang.String, org.apache.bcel.generic.Type, org.apache.bcel.generic.Type[])"><!-- --></A><H3>
insertStarter</H3>
<PRE>
public void <B>insertStarter</B>(java.lang.String&nbsp;methodName,
                          org.apache.bcel.generic.Type&nbsp;returnType,
                          org.apache.bcel.generic.Type[]&nbsp;argumentTypes)
                   throws <A HREF="../../sofya/base/exceptions/MethodNotFoundException.html" title="class in sofya.base.exceptions">MethodNotFoundException</A></PRE>
<DL>
<DD>Inserts call to <code>SocketProbe.start</code> unconditionally at
 the beginning of the specified method.

 <p>The <code>SocketProbe.start</code> method is guarded against
 multiple invocations, such that only the first occurrence during
 execution has any effect. Nonetheless, this method should be used with
 discretion and such use is generally discouraged. Note also that the
 <A HREF="../../sofya/ed/Instrumentor.html#instrumentAll()"><CODE>instrumentAll()</CODE></A> method will cause the call to be
 automatically inserted in the appropriate location.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>methodName</CODE> - Name of the method into which to insert call.<DD><CODE>returnType</CODE> - Return type of the method.<DD><CODE>argumentTypes</CODE> - The types of the arguments to the method. Together
 with the return type, these constitute the signature which will be used
 to identify a match.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../sofya/base/exceptions/MethodNotFoundException.html" title="class in sofya.base.exceptions">MethodNotFoundException</A></CODE> - If no method matching the specified
 name and signature can be found.</DL>
</DD>
</DL>
<HR>

<A NAME="insertFinisher(java.lang.String, org.apache.bcel.generic.Type, org.apache.bcel.generic.Type[])"><!-- --></A><H3>
insertFinisher</H3>
<PRE>
public void <B>insertFinisher</B>(java.lang.String&nbsp;methodName,
                           org.apache.bcel.generic.Type&nbsp;returnType,
                           org.apache.bcel.generic.Type[]&nbsp;argumentTypes)
                    throws <A HREF="../../sofya/base/exceptions/MethodNotFoundException.html" title="class in sofya.base.exceptions">MethodNotFoundException</A></PRE>
<DL>
<DD>Inserts call to <code>SocketProbe.finish</code> unconditionally at
 the exit points of the specified method.

 <p><b>Warning:</b> <i>Use this method with extreme caution.</i> The
 <code>SocketProbe.finish</code> method causes the SocketProbe to
 transmit all remaining trace data and close its socket(s). Thus it
 should be called only once, and after all possible instrumentation
 has been executed, or errors and data loss will occur. Note also
 that the <A HREF="../../sofya/ed/Instrumentor.html#instrumentAll()"><CODE>instrumentAll()</CODE></A> method will cause the
 call to be automatically inserted in the appropriate location.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>methodName</CODE> - Name of the method into which to insert call.<DD><CODE>returnType</CODE> - Return type of the method.<DD><CODE>argumentTypes</CODE> - The types of the arguments to the method. Together
 with the return type, these constitute the signature which will be used
 to identify a match.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../sofya/base/exceptions/MethodNotFoundException.html" title="class in sofya.base.exceptions">MethodNotFoundException</A></CODE> - If no method matching the specified
 name and signature can be found.</DL>
</DD>
</DL>
<HR>

<A NAME="generateClass()"><!-- --></A><H3>
generateClass</H3>
<PRE>
public org.apache.bcel.classfile.JavaClass <B>generateClass</B>()</PRE>
<DL>
<DD>Gets the instrumented class.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The BCEL object representing the instrumented class.</DL>
</DD>
</DL>
<HR>

<A NAME="writeClass(java.io.OutputStream)"><!-- --></A><H3>
writeClass</H3>
<PRE>
public void <B>writeClass</B>(java.io.OutputStream&nbsp;dest)
                throws java.io.IOException</PRE>
<DL>
<DD>Writes the binary instrumented class data to a stream.

 <p>The class data written constitutes a valid Java class file. In
 other words, if the output stream is a file, the resulting file will
 be a valid class file containing any instrumentation that was
 applied.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>dest</CODE> - Output stream to which class is to be written.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - If there is an error writing to the stream.</DL>
</DD>
</DL>
<HR>

<A NAME="insertProbeStartCall(org.apache.bcel.generic.InstructionList)"><!-- --></A><H3>
insertProbeStartCall</H3>
<PRE>
protected void <B>insertProbeStartCall</B>(org.apache.bcel.generic.InstructionList&nbsp;il)</PRE>
<DL>
<DD>Inserts call to
 <A HREF="../../sofya/ed/structural/SocketProbe.html#start(int, int, boolean, boolean, int)"><CODE>SocketProbe.start(int,int,boolean,boolean,int)</CODE></A>
 at beginning of method.

 <p>The call to
 <A HREF="../../sofya/ed/structural/SocketProbe.html#start(int, int, boolean, boolean, int)"><CODE>SocketProbe.start(int,int,boolean,boolean,int)</CODE></A>
 will be the very first instruction in the method. It should be inserted
 into the static initializer (<i>&lt;clinit&gt;</i>), or the main
 method if no static initializer is present. Otherwise, instrumentation
 calls to SocketProbe may fail.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>il</CODE> - The instruction list of the method into which the call is
 to be inserted.</DL>
</DD>
</DL>
<HR>

<A NAME="insertProbeFinishCall(org.apache.bcel.generic.InstructionList)"><!-- --></A><H3>
insertProbeFinishCall</H3>
<PRE>
protected void <B>insertProbeFinishCall</B>(org.apache.bcel.generic.InstructionList&nbsp;il)</PRE>
<DL>
<DD>Inserts call to <A HREF="../../sofya/ed/structural/SocketProbe.html#finish()"><CODE>SocketProbe.finish()</CODE></A>
 immediately prior to any <code>return</code> instruction in the method.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>il</CODE> - The instruction list of the method into which the call is to
 be inserted.</DL>
</DD>
</DL>
<HR>

<A NAME="addDefaultHandler(org.apache.bcel.generic.MethodGen, org.apache.bcel.generic.InstructionList)"><!-- --></A><H3>
addDefaultHandler</H3>
<PRE>
protected void <B>addDefaultHandler</B>(org.apache.bcel.generic.MethodGen&nbsp;mg,
                                 org.apache.bcel.generic.InstructionList&nbsp;il)</PRE>
<DL>
<DD>Modifies the <code>main</code> method, if necessary, to prevent
 unhandled exceptions from being thrown.

 <p>This method wraps the entire <code>main</code> method with a generic
 handler for any <code>java.lang.Throwable</code> and eliminates the
 <code>throws</code> declarations. The handler will emulate the behavior
 of the <code>ThreadGroup</code> class's <code>uncaughtException</code>
 method. This is effectively a workaround for a stream-redirection
 related bug in the SDK or JVM implementation that results in
 non-deterministic display of subject outputs through Filter when
 exceptions are thrown from the <code>main</code> method.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mg</CODE> - The BCEL mutable representation of the method, required to
 manipulate the throws clauses and handlers associated with the method.<DD><CODE>il</CODE> - The instruction list of the method, used to insert the
 actual handler instructions.</DL>
</DD>
</DL>
<HR>

<A NAME="cacheHandlerStarts(org.apache.bcel.generic.CodeExceptionGen[])"><!-- --></A><H3>
cacheHandlerStarts</H3>
<PRE>
protected void <B>cacheHandlerStarts</B>(org.apache.bcel.generic.CodeExceptionGen[]&nbsp;excHandlers)</PRE>
<DL>
<DD>Reads the exception handlers associated with the method and caches
 the starting instruction handle for each handler.

 <p>During the sequence instrumentation process, this cache is
 consulted to determine whether a block is the lead block of an
 exception handler. If it is, a call to record the possible change in
 method (exceptional return) to the trace is inserted.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>excHandlers</CODE> - Table of exception handlers attached to the method.</DL>
</DD>
</DL>
<HR>

<A NAME="loadBlockRefs(sofya.graphs.cfg.Block[], org.apache.bcel.generic.InstructionList)"><!-- --></A><H3>
loadBlockRefs</H3>
<PRE>
protected void <B>loadBlockRefs</B>(<A HREF="../../sofya/graphs/cfg/Block.html" title="class in sofya.graphs.cfg">Block</A>[]&nbsp;blocks,
                             org.apache.bcel.generic.InstructionList&nbsp;il)</PRE>
<DL>
<DD>Loads the instruction handles corresponding to the bytecode offsets
 encoded in the given blocks into the reference fields for those
 blocks, using the supplied BCEL instruction list to find the
 handles.

 <p><b>Warning:</b> This method must be called before any changes are
 made to the instruction list! By ensuring this condition, this
 method can use what is presumed to be a faster lookup method
 to locate handles in the list.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>blocks</CODE> - List of blocks for which the reference fields should
 be assigned the instruction handles corresponding to the start
 and end offsets of the block.<DD><CODE>il</CODE> - BCEL instruction list from which instruction handles
 are to be loaded.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../sofya/ed/CoverageListenerManager.html" title="interface in sofya.ed"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../sofya/ed/ParameterValueAbsentException.html" title="class in sofya.ed"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?sofya/ed/Instrumentor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Instrumentor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
