<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_06) on Tue Aug 08 14:15:15 CDT 2006 -->
<TITLE>
JUnitEventDispatcher (Sofya API Documentation)
</TITLE>

<META NAME="keywords" CONTENT="sofya.ed.structural.JUnitEventDispatcher class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="JUnitEventDispatcher (Sofya API Documentation)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../sofya/ed/structural/EventDispatcherConfiguration.html" title="class in sofya.ed.structural"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.InstrumentationMode.html" title="class in sofya.ed.structural"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?sofya/ed/structural/JUnitEventDispatcher.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="JUnitEventDispatcher.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
sofya.ed.structural</FONT>
<BR>
Class JUnitEventDispatcher</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../sofya/ed/structural/AbstractEventDispatcher.html" title="class in sofya.ed.structural">sofya.ed.structural.AbstractEventDispatcher</A>
      <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>sofya.ed.structural.JUnitEventDispatcher</B>
</PRE>
<HR>
<DL>
<DT><PRE>public final class <B>JUnitEventDispatcher</B><DT>extends <A HREF="../../../sofya/ed/structural/AbstractEventDispatcher.html" title="class in sofya.ed.structural">AbstractEventDispatcher</A></DL>
</PRE>

<P>
A JUnitEventDispatcher is designed to be used by a specially modified JUnit
 test runner to dispatch an event stream from JUnit test cases run on
 instrumented code.

 <p>The JUnitEventDispatcher does not provide any mechanism for invoking a
 subject class in a separate virtual machine, has a restricted set of
 configuration options, and exposes special methods for controlling the
 dispatch of distinct event streams.  It is expected that an instance of
 a JUnitEvent Dispatcher class will be created inside a JUnit test runner.
 Instrumented JUnit test suites and test cases can then be run,
 using a TestListener (part of the JUnit framework) to handle processing
 of per-test event streams at the appropriate times (as by writing a trace
 file, for example). It is strongly recommended that the listener regularly
 issue calls to the <A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#checkError()"><CODE>checkError()</CODE></A> method to ensure timely termination
 in the event of a failure. This class requires that the subject classes
 be instrumented using the '<code>junit</code>' mode of instrumentation
 (see <A HREF="../../../sofya/ed/cfInstrumentor.html" title="class in sofya.ed"><CODE>cfInstrumentor</CODE></A>).</p>

 <p>This class cannot be run directly from the command line.</p>
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>03/15/2006</DD>
<DT><B>Author:</B></DT>
  <DD>Alex Kinneer</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.InstrumentationMode.html" title="class in sofya.ed.structural">JUnitEventDispatcher.InstrumentationMode</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Callback class used to safely transfer the instrumentation mode
 constant to the processing strategy.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="nested_classes_inherited_from_class_sofya.ed.structural.AbstractEventDispatcher"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Nested classes/interfaces inherited from class sofya.ed.structural.<A HREF="../../../sofya/ed/structural/AbstractEventDispatcher.html" title="class in sofya.ed.structural">AbstractEventDispatcher</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../sofya/ed/structural/AbstractEventDispatcher.CreateException.html" title="class in sofya.ed.structural">AbstractEventDispatcher.CreateException</A>, <A HREF="../../../sofya/ed/structural/AbstractEventDispatcher.ExecException.html" title="class in sofya.ed.structural">AbstractEventDispatcher.ExecException</A>, <A HREF="../../../sofya/ed/structural/AbstractEventDispatcher.SetupException.html" title="class in sofya.ed.structural">AbstractEventDispatcher.SetupException</A>, <A HREF="../../../sofya/ed/structural/AbstractEventDispatcher.TraceFileException.html" title="class in sofya.ed.structural">AbstractEventDispatcher.TraceFileException</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#currentMethodSig">currentMethodSig</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stores the signature string of the method for which objects
        are currently being recorded.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;gnu.trove.TIntObjectHashMap</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#indexToNameMap">indexToNameMap</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Maps indices following new method markers to the signature
        string for that method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#instError">instError</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flag which indicates if an instrumentation error (wrong mode of
        instrumentation) has been detected.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#instMode">instMode</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Indicates the type of instrumentation present in the subject.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.util.LinkedList</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#methodSigStack">methodSigStack</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stack which holds the signatures of methods on the call stack.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;<A HREF="../../../sofya/ed/structural/CoverageTrace.html" title="class in sofya.ed.structural">CoverageTrace</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#methodTrace">methodTrace</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Current trace being recorded.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;gnu.trove.TObjectIntHashMap</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#nameToIndexMap">nameToIndexMap</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Maps signature strings for a method to an already assigned
        index, if any.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#nextMethodIndex">nextMethodIndex</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Holds the next value available for use as an index to a
        method signature string.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#OBJECT_ARRAY_CACHE_SIZE">OBJECT_ARRAY_CACHE_SIZE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Maximum number of methods for which byte arrays can be cached
        when handling optimized normal instrumentation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#SEQUENCE_ARRAY_SIZE">SEQUENCE_ARRAY_SIZE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size of the array which records object sequence information
        when handling optimized sequence instrumentation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#sequenceArray">sequenceArray</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array which stores the executed object IDs sequentially, using
        special marker/index pairs to indicate entry into new methods.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#sequenceIndex">sequenceIndex</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Index pointing to the next open entry in the sequence array.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;sofya.ed.structural.JUnitEventDispatcher.LRUTraceMap</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#traceObjArrays">traceObjArrays</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LRU cache which holds the byte arrays recording which objects have been
        hit in each method.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_sofya.ed.structural.AbstractEventDispatcher"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class sofya.ed.structural.<A HREF="../../../sofya/ed/structural/AbstractEventDispatcher.html" title="class in sofya.ed.structural">AbstractEventDispatcher</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../sofya/ed/structural/AbstractEventDispatcher.html#dispatcherReady">dispatcherReady</A>, <A HREF="../../../sofya/ed/structural/AbstractEventDispatcher.html#isInstrumented">isInstrumented</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#checkError()">checkError</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks whether any exceptions have been raised during processing, and
 rethrows the exception for handling if so.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#checkInstrumented()">checkInstrumented</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks whether the last test case was instrumented.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html" title="class in sofya.ed.structural">JUnitEventDispatcher</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#createEventDispatcher(sofya.ed.structural.JUnitProcessingStrategy)">createEventDispatcher</A></B>(<A HREF="../../../sofya/ed/structural/JUnitProcessingStrategy.html" title="interface in sofya.ed.structural">JUnitProcessingStrategy</A>&nbsp;strategy)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Factory method that returns a singleton instance of the event
 dispatcher.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#endTest(int)">endTest</A></B>(int&nbsp;testNumber)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Signals that the current test case has finished executing.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#finish()">finish</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ensures that all data currently in the cache is written to the
 trace, guaranteeing that it will be complete.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#getBlockArray(java.lang.String, int)">getBlockArray</A></B>(java.lang.String&nbsp;mSignature,
              int&nbsp;blockCount)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Maps to an equivalent call to <A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#getObjectArray(java.lang.String, int)"><CODE>getObjectArray(java.lang.String, int)</CODE></A>;
 this method is retained for backwards compatibility with previous
 instrumentation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#getInstrumentationMode()">getInstrumentationMode</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reports the instrumentation mode detected in the subject.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#getObjectArray(java.lang.String, int)">getObjectArray</A></B>(java.lang.String&nbsp;mSignature,
               int&nbsp;objCount)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the byte array recording which objects have been covered in a
 given method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../sofya/ed/structural/JUnitProcessingStrategy.html" title="interface in sofya.ed.structural">JUnitProcessingStrategy</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#getProcessingStrategy()">getProcessingStrategy</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the processing strategy currently in use by this event dispatcher
 to receive probes from the subject.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#markMethodInSequence(java.lang.String, int)">markMethodInSequence</A></B>(java.lang.String&nbsp;mSignature,
                     int&nbsp;objCount)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inserts a new method marker and index into the sequence array.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#newTest(int)">newTest</A></B>(int&nbsp;testNumber)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Signals that a new test case is executing.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#register(sofya.ed.structural.EventDispatcherConfiguration)">register</A></B>(<A HREF="../../../sofya/ed/structural/EventDispatcherConfiguration.html" title="class in sofya.ed.structural">EventDispatcherConfiguration</A>&nbsp;edc)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Registers the processing strategy and any attached components.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#release()">release</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Releases this event dispatcher, its processing strategy, and any
 attached components.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#reset()">reset</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clears instrumentation data structures (for the next test case).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#setProcessingStrategy(sofya.ed.structural.JUnitProcessingStrategy)">setProcessingStrategy</A></B>(<A HREF="../../../sofya/ed/structural/JUnitProcessingStrategy.html" title="interface in sofya.ed.structural">JUnitProcessingStrategy</A>&nbsp;procStrategy)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies the processing strategy to be used by this event dispatcher
 to receive probes from the subject.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#setup(int)">setup</A></B>(int&nbsp;_instMode)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initializes the data structures necessary to process the instrumentation
 detected in the subject.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#start(int, int, boolean, boolean, int)">start</A></B>(int&nbsp;port,
      int&nbsp;_instMode,
      boolean&nbsp;_doTimestamps,
      boolean&nbsp;_useSignalSocket,
      int&nbsp;_entityType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks that the type of instrumentation can be handled by the
 a JUnit event dispatcher.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#startDispatcher()">startDispatcher</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initializes the event dispatcher such that it is ready to process
 instrumentation and dispatch event streams.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#writeBlockCount(java.lang.String, int)">writeBlockCount</A></B>(java.lang.String&nbsp;mSignature,
                int&nbsp;blockCount)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Notifies the event dispatcher of the number of basic blocks in
 the current method, to be reported to the processing strategy and
 any interested listeners.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#writeObjectCount(java.lang.String, int)">writeObjectCount</A></B>(java.lang.String&nbsp;mSignature,
                 int&nbsp;objCount)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Notifies the event dispacher of the number of structural objects in
 the current method, to be reported to the processing strategy and
 any interested listeners.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#writeSequenceData()">writeSequenceData</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Writes the current contents of the object sequence array to the trace.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#writeTraceMessage(int, java.lang.String)">writeTraceMessage</A></B>(int&nbsp;bId,
                  java.lang.String&nbsp;mSignature)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Marks a single object in the trace; used by the compatible mode
 instrumentation.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="instMode"><!-- --></A><H3>
instMode</H3>
<PRE>
protected static int <B>instMode</B></PRE>
<DL>
<DD>Indicates the type of instrumentation present in the subject. Note that
        this is automatically detected, and the dispatcher will reject subjects
        with mixed instrumentation.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="OBJECT_ARRAY_CACHE_SIZE"><!-- --></A><H3>
OBJECT_ARRAY_CACHE_SIZE</H3>
<PRE>
protected static final int <B>OBJECT_ARRAY_CACHE_SIZE</B></PRE>
<DL>
<DD>Maximum number of methods for which byte arrays can be cached
        when handling optimized normal instrumentation.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#sofya.ed.structural.JUnitEventDispatcher.OBJECT_ARRAY_CACHE_SIZE">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="SEQUENCE_ARRAY_SIZE"><!-- --></A><H3>
SEQUENCE_ARRAY_SIZE</H3>
<PRE>
protected static final int <B>SEQUENCE_ARRAY_SIZE</B></PRE>
<DL>
<DD>Size of the array which records object sequence information
        when handling optimized sequence instrumentation.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#sofya.ed.structural.JUnitEventDispatcher.SEQUENCE_ARRAY_SIZE">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="traceObjArrays"><!-- --></A><H3>
traceObjArrays</H3>
<PRE>
protected static sofya.ed.structural.JUnitEventDispatcher.LRUTraceMap <B>traceObjArrays</B></PRE>
<DL>
<DD>LRU cache which holds the byte arrays recording which objects have been
        hit in each method. If the cache fills, data is written to the trace
        before the oldest array is removed from the cache.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="methodTrace"><!-- --></A><H3>
methodTrace</H3>
<PRE>
protected static <A HREF="../../../sofya/ed/structural/CoverageTrace.html" title="class in sofya.ed.structural">CoverageTrace</A> <B>methodTrace</B></PRE>
<DL>
<DD>Current trace being recorded.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="sequenceArray"><!-- --></A><H3>
sequenceArray</H3>
<PRE>
public static int[] <B>sequenceArray</B></PRE>
<DL>
<DD>Array which stores the executed object IDs sequentially, using
        special marker/index pairs to indicate entry into new methods.
        It is public so that the instrumentation is not required
        to make a method call to retrieve a reference to it.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="sequenceIndex"><!-- --></A><H3>
sequenceIndex</H3>
<PRE>
public static int <B>sequenceIndex</B></PRE>
<DL>
<DD>Index pointing to the next open entry in the sequence array.
        Instrumentation is responsible for updating this pointer when
        recording an object ID, and calling
        <code>writeSequenceData</code> when the array is filled.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="currentMethodSig"><!-- --></A><H3>
currentMethodSig</H3>
<PRE>
protected static java.lang.String <B>currentMethodSig</B></PRE>
<DL>
<DD>Stores the signature string of the method for which objects
        are currently being recorded. This is required when object
        IDs for a method bridge an array transmit-and-reset event.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="indexToNameMap"><!-- --></A><H3>
indexToNameMap</H3>
<PRE>
protected static gnu.trove.TIntObjectHashMap <B>indexToNameMap</B></PRE>
<DL>
<DD>Maps indices following new method markers to the signature
        string for that method.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="nameToIndexMap"><!-- --></A><H3>
nameToIndexMap</H3>
<PRE>
protected static gnu.trove.TObjectIntHashMap <B>nameToIndexMap</B></PRE>
<DL>
<DD>Maps signature strings for a method to an already assigned
        index, if any.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="nextMethodIndex"><!-- --></A><H3>
nextMethodIndex</H3>
<PRE>
protected static int <B>nextMethodIndex</B></PRE>
<DL>
<DD>Holds the next value available for use as an index to a
        method signature string.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="methodSigStack"><!-- --></A><H3>
methodSigStack</H3>
<PRE>
protected static java.util.LinkedList <B>methodSigStack</B></PRE>
<DL>
<DD>Stack which holds the signatures of methods on the call stack.
        Used in basic block sequence tracing to ensure that blocks are
        associated with the correct method after returning from a called
        method.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="instError"><!-- --></A><H3>
instError</H3>
<PRE>
protected static boolean <B>instError</B></PRE>
<DL>
<DD>Flag which indicates if an instrumentation error (wrong mode of
        instrumentation) has been detected. It is used to suppress repeat
        messages.
<P>
<DL>
</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="createEventDispatcher(sofya.ed.structural.JUnitProcessingStrategy)"><!-- --></A><H3>
createEventDispatcher</H3>
<PRE>
public static <A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html" title="class in sofya.ed.structural">JUnitEventDispatcher</A> <B>createEventDispatcher</B>(<A HREF="../../../sofya/ed/structural/JUnitProcessingStrategy.html" title="interface in sofya.ed.structural">JUnitProcessingStrategy</A>&nbsp;strategy)</PRE>
<DL>
<DD>Factory method that returns a singleton instance of the event
 dispatcher.

 <p>A singleton strategy is enforced because much of the class data
 is static, and must be to enable the instrumentation to work. If
 a completely new instance is desired, call <A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#release()"><CODE>release()</CODE></A> and then
 call this method.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>strategy</CODE> - Processing strategy to be used to process probes
 received from the instrumentation.
<DT><B>Returns:</B><DD>A new event dispatcher, or a reference to the existing
 singleton instance if this method has already been called and
 <A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#release()"><CODE>release()</CODE></A> has not yet been called.</DL>
</DD>
</DL>
<HR>

<A NAME="getProcessingStrategy()"><!-- --></A><H3>
getProcessingStrategy</H3>
<PRE>
public <A HREF="../../../sofya/ed/structural/JUnitProcessingStrategy.html" title="interface in sofya.ed.structural">JUnitProcessingStrategy</A> <B>getProcessingStrategy</B>()</PRE>
<DL>
<DD>Gets the processing strategy currently in use by this event dispatcher
 to receive probes from the subject.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The processing strategy that this event dispatcher is configured
 to use to receive probes from the subject.</DL>
</DD>
</DL>
<HR>

<A NAME="setProcessingStrategy(sofya.ed.structural.JUnitProcessingStrategy)"><!-- --></A><H3>
setProcessingStrategy</H3>
<PRE>
public void <B>setProcessingStrategy</B>(<A HREF="../../../sofya/ed/structural/JUnitProcessingStrategy.html" title="interface in sofya.ed.structural">JUnitProcessingStrategy</A>&nbsp;procStrategy)</PRE>
<DL>
<DD>Specifies the processing strategy to be used by this event dispatcher
 to receive probes from the subject.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>procStrategy</CODE> - The processing strategy to be used by this event
 dispatcher to receive probes from the subject.</DL>
</DD>
</DL>
<HR>

<A NAME="getInstrumentationMode()"><!-- --></A><H3>
getInstrumentationMode</H3>
<PRE>
public int <B>getInstrumentationMode</B>()</PRE>
<DL>
<DD>Reports the instrumentation mode detected in the subject.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The numeric constant for the instrumentation mode detected in
 the subject (e.g. coverage, sequence, compatibility).</DL>
</DD>
</DL>
<HR>

<A NAME="register(sofya.ed.structural.EventDispatcherConfiguration)"><!-- --></A><H3>
register</H3>
<PRE>
public void <B>register</B>(<A HREF="../../../sofya/ed/structural/EventDispatcherConfiguration.html" title="class in sofya.ed.structural">EventDispatcherConfiguration</A>&nbsp;edc)</PRE>
<DL>
<DD>Registers the processing strategy and any attached components.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>edc</CODE> - The global event dispatcher configuration for this event
 dispatcher.</DL>
</DD>
</DL>
<HR>

<A NAME="release()"><!-- --></A><H3>
release</H3>
<PRE>
public void <B>release</B>()</PRE>
<DL>
<DD>Releases this event dispatcher, its processing strategy, and any
 attached components.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setup(int)"><!-- --></A><H3>
setup</H3>
<PRE>
protected static void <B>setup</B>(int&nbsp;_instMode)</PRE>
<DL>
<DD>Initializes the data structures necessary to process the instrumentation
 detected in the subject. All invocations subsequent to the first must
 specify the same form of instrumentation, or the method will fail. In
 practice it should only be called once.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>_instMode</CODE> - Type of instrumentation detected in the subject.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - If this method has previously been called
 with a different mode of instrumentation.</DL>
</DD>
</DL>
<HR>

<A NAME="reset()"><!-- --></A><H3>
reset</H3>
<PRE>
protected void <B>reset</B>()</PRE>
<DL>
<DD>Clears instrumentation data structures (for the next test case).
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="startDispatcher()"><!-- --></A><H3>
startDispatcher</H3>
<PRE>
public void <B>startDispatcher</B>()</PRE>
<DL>
<DD>Initializes the event dispatcher such that it is ready to process
 instrumentation and dispatch event streams.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../sofya/ed/structural/AbstractEventDispatcher.html#startDispatcher()">startDispatcher</A></CODE> in class <CODE><A HREF="../../../sofya/ed/structural/AbstractEventDispatcher.html" title="class in sofya.ed.structural">AbstractEventDispatcher</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>SetupException</CODE> - If there is an error attempting to set up this
 event dispatcher to receive instrumentation.</DL>
</DD>
</DL>
<HR>

<A NAME="newTest(int)"><!-- --></A><H3>
newTest</H3>
<PRE>
public void <B>newTest</B>(int&nbsp;testNumber)</PRE>
<DL>
<DD>Signals that a new test case is executing.

 <p>Some event stream observers may need to perform setup before
 handling a new event stream, such as opening a new trace file.</p>

 <p>This method resets the flag indicating whether a test case
 was instrumented.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>testNumber</CODE> - Number associated with the current test.</DL>
</DD>
</DL>
<HR>

<A NAME="endTest(int)"><!-- --></A><H3>
endTest</H3>
<PRE>
public void <B>endTest</B>(int&nbsp;testNumber)
             throws <A HREF="../../../sofya/ed/structural/AbstractEventDispatcher.TraceFileException.html" title="class in sofya.ed.structural">AbstractEventDispatcher.TraceFileException</A></PRE>
<DL>
<DD>Signals that the current test case has finished executing.

 <p>Some event stream observers may need to take some kind of action
 here, such as saving or storing a trace file.</p>

 <p>Data structures for handling* instrumentation will be reset for
 the next test case.</p>
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../sofya/ed/structural/AbstractEventDispatcher.TraceFileException.html" title="class in sofya.ed.structural">AbstractEventDispatcher.TraceFileException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="checkInstrumented()"><!-- --></A><H3>
checkInstrumented</H3>
<PRE>
public boolean <B>checkInstrumented</B>()</PRE>
<DL>
<DD>Checks whether the last test case was instrumented.

 <p>If the test case executed instrumented code, this method will
 return <code>true</code> until the next call to <A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#newTest(int)"><CODE>newTest(int)</CODE></A>,
 otherwise it returns <code>false</code>.</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if the last test case executed instrumented
 code and <code>newTraceFile</code> has not yet been called,
 <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="checkError()"><!-- --></A><H3>
checkError</H3>
<PRE>
public static void <B>checkError</B>()
                       throws java.lang.Exception</PRE>
<DL>
<DD>Checks whether any exceptions have been raised during processing, and
 rethrows the exception for handling if so. This method returns without
 action if there are no errors.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE> - For any exception that was raised and stored.</DL>
</DD>
</DL>
<HR>

<A NAME="start(int, int, boolean, boolean, int)"><!-- --></A><H3>
start</H3>
<PRE>
public static void <B>start</B>(int&nbsp;port,
                         int&nbsp;_instMode,
                         boolean&nbsp;_doTimestamps,
                         boolean&nbsp;_useSignalSocket,
                         int&nbsp;_entityType)</PRE>
<DL>
<DD>Checks that the type of instrumentation can be handled by the
 a JUnit event dispatcher. This also makes the instrumentor
 implementation easier by allowing it to simply change the name of the
 class the instrumentation related methods are invoked on depending on
 what type of instrumentation it has been directed to insert.

 <p><strong>Note: It is not necessary for a subject to call this method
 for the event dispatcher to work</strong> (assuming the instrumentation
 is appropriate). This method is merely provided to assist the
 instrumentor.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>port</CODE> - <i>Ignored.</i><DD><CODE>_instMode</CODE> - Flag indicating the type of instrumentation present in
 the subject. All types are supported as long as the instrumentation is
 targeted for a JUnit event dispatcher.<DD><CODE>_doTimestamps</CODE> - <i>Ignored.</i><DD><CODE>_useSignalSocket</CODE> - <i>Ignored.</i><DD><CODE>_entityType</CODE> - <i>Ignored</i></DL>
</DD>
</DL>
<HR>

<A NAME="finish()"><!-- --></A><H3>
finish</H3>
<PRE>
public static void <B>finish</B>()</PRE>
<DL>
<DD>Ensures that all data currently in the cache is written to the
 trace, guaranteeing that it will be complete.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="writeBlockCount(java.lang.String, int)"><!-- --></A><H3>
writeBlockCount</H3>
<PRE>
public static void <B>writeBlockCount</B>(java.lang.String&nbsp;mSignature,
                                   int&nbsp;blockCount)</PRE>
<DL>
<DD>Notifies the event dispatcher of the number of basic blocks in
 the current method, to be reported to the processing strategy and
 any interested listeners.

 <p>This method is retained for compatibility with previous
 instrumentation.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mSignature</CODE> - Signature of the method for which the basic block
 count is being sent.<DD><CODE>blockCount</CODE> - Number of basic blocks in the method.</DL>
</DD>
</DL>
<HR>

<A NAME="writeObjectCount(java.lang.String, int)"><!-- --></A><H3>
writeObjectCount</H3>
<PRE>
public static void <B>writeObjectCount</B>(java.lang.String&nbsp;mSignature,
                                    int&nbsp;objCount)</PRE>
<DL>
<DD>Notifies the event dispacher of the number of structural objects in
 the current method, to be reported to the processing strategy and
 any interested listeners.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mSignature</CODE> - Signature of the method for which the object count
 is being sent.<DD><CODE>objCount</CODE> - Number of objects in the method.</DL>
</DD>
</DL>
<HR>

<A NAME="writeTraceMessage(int, java.lang.String)"><!-- --></A><H3>
writeTraceMessage</H3>
<PRE>
public static void <B>writeTraceMessage</B>(int&nbsp;bId,
                                     java.lang.String&nbsp;mSignature)</PRE>
<DL>
<DD>Marks a single object in the trace; used by the compatible mode
 instrumentation.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bId</CODE> - The ID of the object marked by this instrumentation
 statement.<DD><CODE>mSignature</CODE> - Signature of the method owning the object.</DL>
</DD>
</DL>
<HR>

<A NAME="getBlockArray(java.lang.String, int)"><!-- --></A><H3>
getBlockArray</H3>
<PRE>
public static byte[] <B>getBlockArray</B>(java.lang.String&nbsp;mSignature,
                                   int&nbsp;blockCount)</PRE>
<DL>
<DD>Maps to an equivalent call to <A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html#getObjectArray(java.lang.String, int)"><CODE>getObjectArray(java.lang.String, int)</CODE></A>;
 this method is retained for backwards compatibility with previous
 instrumentation.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mSignature</CODE> - Signature of the method for which the byte array
 is to be retrieved. The signature guarantees uniqueness.<DD><CODE>blockCount</CODE> - Number of basic blocks in the method, used only
 when the array must be allocated. This value should be determined
 by the CFG builder and set by the instrumentor.
<DT><B>Returns:</B><DD>The byte array recording basic blocks covered in the method.</DL>
</DD>
</DL>
<HR>

<A NAME="getObjectArray(java.lang.String, int)"><!-- --></A><H3>
getObjectArray</H3>
<PRE>
public static byte[] <B>getObjectArray</B>(java.lang.String&nbsp;mSignature,
                                    int&nbsp;objCount)</PRE>
<DL>
<DD>Gets the byte array recording which objects have been covered in a
 given method.

 <p>If this is the first time the method has been traced (or the
 method has been removed from the cache), an array of the necessary
 size is allocated and initialized. Calls to this method are
 inserted at the beginning of methods in the subject by the
 instrumentor.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mSignature</CODE> - Signature of the method for which the byte array
 is to be retrieved. The signature guarantees uniqueness.<DD><CODE>objCount</CODE> - Number of objects in the method, used only
 when the array must be allocated. This value should be determined
 by the CFG builder and set by the instrumentor.
<DT><B>Returns:</B><DD>The byte array recording objects covered in the method.</DL>
</DD>
</DL>
<HR>

<A NAME="markMethodInSequence(java.lang.String, int)"><!-- --></A><H3>
markMethodInSequence</H3>
<PRE>
public static void <B>markMethodInSequence</B>(java.lang.String&nbsp;mSignature,
                                        int&nbsp;objCount)</PRE>
<DL>
<DD>Inserts a new method marker and index into the sequence array.
 (See <A HREF="../../../sofya/ed/structural/SocketProbe.html#markMethodInSequence(java.lang.String, int)"><CODE>SocketProbe.markMethodInSequence(java.lang.String, int)</CODE></A>).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mSignature</CODE> - Signature of the method which has been entered
 and needs to be marked in the array.<DD><CODE>objCount</CODE> - Number of objects in the method.</DL>
</DD>
</DL>
<HR>

<A NAME="writeSequenceData()"><!-- --></A><H3>
writeSequenceData</H3>
<PRE>
public static void <B>writeSequenceData</B>()</PRE>
<DL>
<DD>Writes the current contents of the object sequence array to the trace.
 (See <A HREF="../../../sofya/ed/structural/SocketProbe.html#writeSequenceData()"><CODE>SocketProbe.writeSequenceData()</CODE></A>).
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../sofya/ed/structural/EventDispatcherConfiguration.html" title="class in sofya.ed.structural"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.InstrumentationMode.html" title="class in sofya.ed.structural"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?sofya/ed/structural/JUnitEventDispatcher.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="JUnitEventDispatcher.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
