<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_06) on Tue Aug 08 14:15:08 CDT 2006 -->
<TITLE>
GraphCache (Sofya API Documentation)
</TITLE>

<META NAME="keywords" CONTENT="sofya.graphs.GraphCache class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="GraphCache (Sofya API Documentation)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../sofya/graphs/Graph.html" title="class in sofya.graphs"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../sofya/graphs/GraphCache.CachedGraph.html" title="class in sofya.graphs"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?sofya/graphs/GraphCache.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="GraphCache.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
sofya.graphs</FONT>
<BR>
Class GraphCache</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>sofya.graphs.GraphCache</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../sofya/graphs/cfg/CFGCache.html" title="class in sofya.graphs.cfg">CFGCache</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>GraphCache</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Abstract base implementation of a disk backed soft memory cache for
 graphs produced by the Sofya system.

 <p>A least recently used (LRU) policy is used to move graphs from memory
 to disk files when a minimum free memory threshold is crossed. It is
 the responsibility of subclasses to implement the methods responsible
 for actually serializing graphs of a particular type to file.</p>
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>03/09/2005</DD>
<DT><B>Author:</B></DT>
  <DD>Alex Kinneer</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/graphs/GraphCache.CachedGraph.html" title="class in sofya.graphs">GraphCache.CachedGraph</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Container class used to encapsulate a cached graph and its associated
 status for passing to external users of the cache.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../sofya/graphs/GraphCache.html#GraphCache()">GraphCache</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new graph cache with a default minimum memory threshold
 and disk caching policy.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../sofya/graphs/GraphCache.html#GraphCache(int)">GraphCache</A></B>(int&nbsp;initRemoveNum)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new graph cache with a default minimum memory threshold
 which immediately caches a given number of graphs to disk when
 the threshold is passed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../sofya/graphs/GraphCache.html#GraphCache(int, float)">GraphCache</A></B>(int&nbsp;initRemoveNum,
           float&nbsp;lowMemThreshold)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new graph cache which immediately caches the specified number
 of graphs when the given minimum memory threshold is passed.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/graphs/GraphCache.html#clear()">clear</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clears the cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/graphs/GraphCache.html#containsKey(sofya.base.MethodSignature)">containsKey</A></B>(<A HREF="../../sofya/base/MethodSignature.html" title="class in sofya.base">MethodSignature</A>&nbsp;method)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reports whether the cache contains a mapping for a given key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../sofya/graphs/GraphCache.CachedGraph.html" title="class in sofya.graphs">GraphCache.CachedGraph</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/graphs/GraphCache.html#get(sofya.base.MethodSignature)">get</A></B>(<A HREF="../../sofya/base/MethodSignature.html" title="class in sofya.base">MethodSignature</A>&nbsp;method)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets a graph from the cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Collection</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/graphs/GraphCache.html#getForClass(java.lang.String)">getForClass</A></B>(java.lang.String&nbsp;className)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets all of the graphs in the cache for a given class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Iterator</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/graphs/GraphCache.html#iterator()">iterator</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets an iterator over the graphs in the cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Iterator</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/graphs/GraphCache.html#iterator(java.lang.String)">iterator</A></B>(java.lang.String&nbsp;className)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets an iterator over the graphs in the cache which are associated
 with a specified class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/graphs/GraphCache.html#keySet()">keySet</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the key set for the cache, in no particular order.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/graphs/GraphCache.html#keySet(java.lang.String)">keySet</A></B>(java.lang.String&nbsp;className)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the key set consisting of the keys for all graphs in the
 cache associated with a particular class, in no particular
 order.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../sofya/graphs/GraphCache.CachedGraph.html" title="class in sofya.graphs">GraphCache.CachedGraph</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/graphs/GraphCache.html#put(sofya.base.MethodSignature, sofya.graphs.Graph)">put</A></B>(<A HREF="../../sofya/base/MethodSignature.html" title="class in sofya.base">MethodSignature</A>&nbsp;method,
    <A HREF="../../sofya/graphs/Graph.html" title="class in sofya.graphs">Graph</A>&nbsp;g)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a new graph to the cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;<A HREF="../../sofya/graphs/Graph.html" title="class in sofya.graphs">Graph</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/graphs/GraphCache.html#readFromDisk(sofya.base.MethodSignature)">readFromDisk</A></B>(<A HREF="../../sofya/base/MethodSignature.html" title="class in sofya.base">MethodSignature</A>&nbsp;method)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reads a graph from a disk cache file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/graphs/GraphCache.html#remove(sofya.base.MethodSignature)">remove</A></B>(<A HREF="../../sofya/base/MethodSignature.html" title="class in sofya.base">MethodSignature</A>&nbsp;method)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes a graph from the cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/graphs/GraphCache.html#size()">size</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the number of graphs currently in the cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Iterator</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/graphs/GraphCache.html#sortedIterator()">sortedIterator</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets a sorted iterator over the graphs in the cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Iterator</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/graphs/GraphCache.html#sortedIterator(java.lang.String)">sortedIterator</A></B>(java.lang.String&nbsp;className)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets a sorted iterator over the graphs in the cache which are associated
 with a specified class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/graphs/GraphCache.html#writeToDisk(sofya.base.MethodSignature, sofya.graphs.Graph)">writeToDisk</A></B>(<A HREF="../../sofya/base/MethodSignature.html" title="class in sofya.base">MethodSignature</A>&nbsp;method,
            <A HREF="../../sofya/graphs/Graph.html" title="class in sofya.graphs">Graph</A>&nbsp;g)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Writes a graph to a disk cache file.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="GraphCache()"><!-- --></A><H3>
GraphCache</H3>
<PRE>
public <B>GraphCache</B>()</PRE>
<DL>
<DD>Creates a new graph cache with a default minimum memory threshold
 and disk caching policy.
<P>
</DL>
<HR>

<A NAME="GraphCache(int)"><!-- --></A><H3>
GraphCache</H3>
<PRE>
public <B>GraphCache</B>(int&nbsp;initRemoveNum)</PRE>
<DL>
<DD>Creates a new graph cache with a default minimum memory threshold
 which immediately caches a given number of graphs to disk when
 the threshold is passed.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>initRemoveNum</CODE> - Number of graphs to immediately cache to disk
 when available memory falls below the minimum threshold. Higher
 values may improve performance by immediately clearing more memory
 and thus reducing the frequency with which the cache must search
 for and cache eligible graphs.</DL>
</DL>
<HR>

<A NAME="GraphCache(int, float)"><!-- --></A><H3>
GraphCache</H3>
<PRE>
public <B>GraphCache</B>(int&nbsp;initRemoveNum,
                  float&nbsp;lowMemThreshold)</PRE>
<DL>
<DD>Creates a new graph cache which immediately caches the specified number
 of graphs when the given minimum memory threshold is passed.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>initRemoveNum</CODE> - Number of graphs to immediately cache to disk
 when available memory falls below the minimum threshold. Higher
 values may improve performance by immediately clearing more memory
 and thus reducing the frequency with which the cache must search
 for and cache eligible graphs.<DD><CODE>lowMemThreshold</CODE> - Minimum free memory, as a percentage of total
 memory, that the cache must attempt to keep free. Setting this value
 too high may result in disk thrashing.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="put(sofya.base.MethodSignature, sofya.graphs.Graph)"><!-- --></A><H3>
put</H3>
<PRE>
public <A HREF="../../sofya/graphs/GraphCache.CachedGraph.html" title="class in sofya.graphs">GraphCache.CachedGraph</A> <B>put</B>(<A HREF="../../sofya/base/MethodSignature.html" title="class in sofya.base">MethodSignature</A>&nbsp;method,
                                  <A HREF="../../sofya/graphs/Graph.html" title="class in sofya.graphs">Graph</A>&nbsp;g)
                           throws <A HREF="../../sofya/base/exceptions/CacheException.html" title="class in sofya.base.exceptions">CacheException</A></PRE>
<DL>
<DD>Adds a new graph to the cache.

 <p>This action may result in existing graphs being cached to disk, if
 the addition of the new graph causes free memory to drop below the
 minimum threshold.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>method</CODE> - Signature of the method for which a graph is being
 cached, used as the key to retrieve the graph later.<DD><CODE>g</CODE> - Graph being added to the cache.
<DT><B>Returns:</B><DD>A <A HREF="../../sofya/graphs/GraphCache.CachedGraph.html" title="class in sofya.graphs"><CODE>GraphCache.CachedGraph</CODE></A> which can be used to modify
 the publicly visible status of the graph. The graph itself cannot be
 accessed through this object (<A HREF="../../sofya/graphs/GraphCache.CachedGraph.html#getGraph()"><CODE>GraphCache.CachedGraph.getGraph()</CODE></A>
 will return <code>null</code>) since the existence of a strong
 reference would prevent it from being removed from memory. The
 <A HREF="../../sofya/graphs/GraphCache.html#get(sofya.base.MethodSignature)"><CODE>get(sofya.base.MethodSignature)</CODE></A> method should be used instead to retrieve the
 graph.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../sofya/base/exceptions/CacheException.html" title="class in sofya.base.exceptions">CacheException</A></CODE> - If the operation results in an attempt to
 cache graphs to disk, and that operation fails for any reason.</DL>
</DD>
</DL>
<HR>

<A NAME="get(sofya.base.MethodSignature)"><!-- --></A><H3>
get</H3>
<PRE>
public <A HREF="../../sofya/graphs/GraphCache.CachedGraph.html" title="class in sofya.graphs">GraphCache.CachedGraph</A> <B>get</B>(<A HREF="../../sofya/base/MethodSignature.html" title="class in sofya.base">MethodSignature</A>&nbsp;method)
                           throws <A HREF="../../sofya/base/exceptions/CacheException.html" title="class in sofya.base.exceptions">CacheException</A></PRE>
<DL>
<DD>Gets a graph from the cache.

 <p>The graph will be read from disk, if necessary. This method may
 also result in graphs being cached to disk, if the retrieval of the
 current graph causes free memory to fall below the minimum
 threshold.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>method</CODE> - Signature of the method for which to retrieve a
 graph.
<DT><B>Returns:</B><DD>A <A HREF="../../sofya/graphs/GraphCache.CachedGraph.html" title="class in sofya.graphs"><CODE>GraphCache.CachedGraph</CODE></A> which may be used to
 access the graph and modify the publicly visible status of the graph.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../sofya/base/exceptions/CacheException.html" title="class in sofya.base.exceptions">CacheException</A></CODE> - If no graph exists in the cache for the
 requested method, or if the graph must be read from a cache file
 and that operation fails for any reason.</DL>
</DD>
</DL>
<HR>

<A NAME="remove(sofya.base.MethodSignature)"><!-- --></A><H3>
remove</H3>
<PRE>
public boolean <B>remove</B>(<A HREF="../../sofya/base/MethodSignature.html" title="class in sofya.base">MethodSignature</A>&nbsp;method)</PRE>
<DL>
<DD>Removes a graph from the cache.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>method</CODE> - Signature of the method for which the graph is
 to be removed.
<DT><B>Returns:</B><DD><code>true</code> if a graph was found for the method
 and successfully removed, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="clear()"><!-- --></A><H3>
clear</H3>
<PRE>
public void <B>clear</B>()</PRE>
<DL>
<DD>Clears the cache.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="size()"><!-- --></A><H3>
size</H3>
<PRE>
public int <B>size</B>()</PRE>
<DL>
<DD>Gets the number of graphs currently in the cache.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The number of graphs currently cached.</DL>
</DD>
</DL>
<HR>

<A NAME="getForClass(java.lang.String)"><!-- --></A><H3>
getForClass</H3>
<PRE>
public java.util.Collection <B>getForClass</B>(java.lang.String&nbsp;className)</PRE>
<DL>
<DD>Gets all of the graphs in the cache for a given class.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>className</CODE> - Name of the class for which to retrieve all of
 its graphs.
<DT><B>Returns:</B><DD>A collection containing all of the graphs found in the cache
 which are associated with the specified class.
<DT><B>Throws:</B>
<DD><CODE>java.lang.OutOfMemoryError</CODE> - If there is not enough space in memory to hold
 all of the graphs. For this reason, it is recommended that graphs instead
 be retrieved using either a direct iterator or by iterating over the
 key set.</DL>
</DD>
</DL>
<HR>

<A NAME="keySet()"><!-- --></A><H3>
keySet</H3>
<PRE>
public java.util.Set <B>keySet</B>()</PRE>
<DL>
<DD>Gets the key set for the cache, in no particular order.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The set of keys to graphs in the cache, in no guaranteed order.</DL>
</DD>
</DL>
<HR>

<A NAME="keySet(java.lang.String)"><!-- --></A><H3>
keySet</H3>
<PRE>
public java.util.Set <B>keySet</B>(java.lang.String&nbsp;className)
                     throws <A HREF="../../sofya/base/exceptions/CacheException.html" title="class in sofya.base.exceptions">CacheException</A></PRE>
<DL>
<DD>Gets the key set consisting of the keys for all graphs in the
 cache associated with a particular class, in no particular
 order.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>className</CODE> - Name of the class for which the keys of
 associated graphs are to be retrieved.
<DT><B>Returns:</B><DD>The set of keys to graphs in the cache which are
 associated with the specified class, in no guaranteed order.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../sofya/base/exceptions/CacheException.html" title="class in sofya.base.exceptions">CacheException</A></CODE> - If no graphs associated with the given
 class are found in the cache.</DL>
</DD>
</DL>
<HR>

<A NAME="containsKey(sofya.base.MethodSignature)"><!-- --></A><H3>
containsKey</H3>
<PRE>
public boolean <B>containsKey</B>(<A HREF="../../sofya/base/MethodSignature.html" title="class in sofya.base">MethodSignature</A>&nbsp;method)</PRE>
<DL>
<DD>Reports whether the cache contains a mapping for a given key.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>method</CODE> - Method signature which is the key for which to check
 if a mapping exists in the cache.
<DT><B>Returns:</B><DD><code>true</code> if the cache contains a mapping for the
 given key, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="iterator()"><!-- --></A><H3>
iterator</H3>
<PRE>
public java.util.Iterator <B>iterator</B>()</PRE>
<DL>
<DD>Gets an iterator over the graphs in the cache.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>An iterator over the graphs in the cache. The iterator makes
 no guarantee regarding the order of iteration.</DL>
</DD>
</DL>
<HR>

<A NAME="sortedIterator()"><!-- --></A><H3>
sortedIterator</H3>
<PRE>
public java.util.Iterator <B>sortedIterator</B>()</PRE>
<DL>
<DD>Gets a sorted iterator over the graphs in the cache.

 <p>The order of iteration is consistent with the lexical ordering
 of the names of the methods with which the graphs are associated.</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>An iterator over the graphs in the cache, which iterates
 over the graphs in the order determined by a lexical sorting of
 the names of the methods with which the graphs are associated.<DT><B>See Also:</B><DD><A HREF="../../sofya/base/MethodSignature.NameComparator.html" title="class in sofya.base"><CODE>MethodSignature.NameComparator</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="iterator(java.lang.String)"><!-- --></A><H3>
iterator</H3>
<PRE>
public java.util.Iterator <B>iterator</B>(java.lang.String&nbsp;className)
                            throws <A HREF="../../sofya/base/exceptions/CacheException.html" title="class in sofya.base.exceptions">CacheException</A></PRE>
<DL>
<DD>Gets an iterator over the graphs in the cache which are associated
 with a specified class.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>className</CODE> - Name of the class with which the graphs returned
 by the iterator should be associated.
<DT><B>Returns:</B><DD>An iterator over the graphs in the cache which are associated
 with the specified class. The iterator makes no guarantee regarding
 the order of iteration.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../sofya/base/exceptions/CacheException.html" title="class in sofya.base.exceptions">CacheException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="sortedIterator(java.lang.String)"><!-- --></A><H3>
sortedIterator</H3>
<PRE>
public java.util.Iterator <B>sortedIterator</B>(java.lang.String&nbsp;className)
                                  throws <A HREF="../../sofya/base/exceptions/CacheException.html" title="class in sofya.base.exceptions">CacheException</A></PRE>
<DL>
<DD>Gets a sorted iterator over the graphs in the cache which are associated
 with a specified class.

 <p>The order of iteration is consistent with the lexical ordering
 of the names of the methods with which the graphs are associated.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>className</CODE> - Name of the class with which the graphs returned by
 the iterator should be associated.
<DT><B>Returns:</B><DD>An iterator over the graphs in the cache which are associated
 with the specified class, and which iterates over the graphs in the
 order determined by a lexical sorting of the names of the methods with
 which the graphs are associated.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../sofya/base/exceptions/CacheException.html" title="class in sofya.base.exceptions">CacheException</A></CODE><DT><B>See Also:</B><DD><A HREF="../../sofya/base/MethodSignature.NameComparator.html" title="class in sofya.base"><CODE>MethodSignature.NameComparator</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="readFromDisk(sofya.base.MethodSignature)"><!-- --></A><H3>
readFromDisk</H3>
<PRE>
protected abstract <A HREF="../../sofya/graphs/Graph.html" title="class in sofya.graphs">Graph</A> <B>readFromDisk</B>(<A HREF="../../sofya/base/MethodSignature.html" title="class in sofya.base">MethodSignature</A>&nbsp;method)
                               throws <A HREF="../../sofya/base/exceptions/CacheException.html" title="class in sofya.base.exceptions">CacheException</A></PRE>
<DL>
<DD>Reads a graph from a disk cache file.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>method</CODE> - Signature of the method for which the graph is to be
 read back from a disk cache file.
<DT><B>Returns:</B><DD>The graph for the given method which was read from the
 disk cache file.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../sofya/base/exceptions/CacheException.html" title="class in sofya.base.exceptions">CacheException</A></CODE> - If no disk cache file exists for the specified
 method, or if cache file is unreadable or invalid.</DL>
</DD>
</DL>
<HR>

<A NAME="writeToDisk(sofya.base.MethodSignature, sofya.graphs.Graph)"><!-- --></A><H3>
writeToDisk</H3>
<PRE>
protected abstract void <B>writeToDisk</B>(<A HREF="../../sofya/base/MethodSignature.html" title="class in sofya.base">MethodSignature</A>&nbsp;method,
                                    <A HREF="../../sofya/graphs/Graph.html" title="class in sofya.graphs">Graph</A>&nbsp;g)
                             throws <A HREF="../../sofya/base/exceptions/CacheException.html" title="class in sofya.base.exceptions">CacheException</A></PRE>
<DL>
<DD>Writes a graph to a disk cache file.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>method</CODE> - Signature of the method for which the graph is to be
 written to disk.<DD><CODE>g</CODE> - Graph which is to be written to disk.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../sofya/base/exceptions/CacheException.html" title="class in sofya.base.exceptions">CacheException</A></CODE> - If the cache file cannot be created, or if
 there is a problem writing the graph to the file.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../sofya/graphs/Graph.html" title="class in sofya.graphs"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../sofya/graphs/GraphCache.CachedGraph.html" title="class in sofya.graphs"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?sofya/graphs/GraphCache.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="GraphCache.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
